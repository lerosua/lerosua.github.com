
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>U盘文件恢复指南 - 阳光烂灿的日子</title>
  <meta name="author" content="lerosua">

  
  <meta name="description" content="外篇：源起 ［事件起因］ 昨晚正在ubuntu里疯狂回贴的时候，听到mm大叫一声，我的照片呢！哎，几乎只要她操作电脑，就会听到这种叫声的。我都几乎习惯了。猛击本本上回车键狠狠地回了一个贴才跑去看她是怎回事。原来mm是准备把学生秋游的照片分好类，复制到u盘上，第二天拿去打印。因为第一个u盘空间不够， &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://lerosua.github.io/blog/2009/10/20/undelete-for-u">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="阳光烂灿的日子" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">阳光烂灿的日子</a></h1>
  
    <h2>--记录所有碎碎念</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:lerosua.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">U盘文件恢复指南</h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-10-20T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>外篇：源起</p>

<p>［<strong>事件起因</strong>］</p>

<p>昨晚正在ubuntu里疯狂回贴的时候，听到mm大叫一声，我的照片呢！哎，几乎只要她操作电脑，就会听到这种叫声的。我都几乎习惯了。猛击本本上回车键狠狠地回了一个贴才跑去看她是怎回事。原来mm是准备把学生秋游的照片分好类，复制到u盘上，第二天拿去打印。因为第一个u盘空间不够，于是换了一个u盘。最后发现电脑上的相片不见。原来在复制到第一个u盘的时候用的是剪切，提示空间不够后，又把第一个u盘的照片给删除了。够orz的。我猛问她有备份吗，她说没有。问为啥用剪切，她说怕占空间。我说没了，渣都没了。mm绝望地干嚎&#8230;.</p>

<p>既然知道是在u盘里删除的，那应该有反删除工具吧，上网找找吧，于是有了下篇。</p>

<p><span style="color: #000000;"><strong>1.window  u盘恢复文件。</strong></span></p>

<p>其实这方面工具很多，图形化。搜索了一下，发现一个 Smart Flash Recovery(<em>U盘文件恢复</em>工具)</p>

<p>于是马上下载，安装。操作果然很简单。一下子就找到被删除的文件。当然文件名有所损坏。选中恢复时才发现，这东西要注册&#8230;不然只能恢复一个文件。并且三天内试用(好像是这个限制). 但要恢复的照片有一百张左右，一张一张恢复不累死偶啊。于是马上去网上搜索注册码。一搜就搜到，可怜的smart flash recovery，于是顺利恢复了照片。</p>

<p><strong>2. linux 下u盘恢复文件</strong></p>

<p>window下的工具是方便，但在linux有没有这类工具哩，回到本本后我就在寻找。果然，有款更强大的工具<strong>:  testdisk.</strong> 它具有恢复启动分区，找回被删除文件，分析分区等等等强大的功能。鉴于它是文本界面的工具，我就贴图，一步一步教大家恢复u盘被删除的文件。</p>

<p>首先在你的系统里安装好testdisk，如果是ubuntu系统，则
<span style="color: #000080;"><strong>sudo apt-get install testdisk</strong></span>
如果是archlinux，则
<strong><span style="color: #000080;">sudo pacman -S testdisk</span></strong></p>

<p>然后以root权限打开testdisk, 见到以下界面:</p>

<p>1.提示创建新日志，默认按回车即可.
<img class="alignnone size-full wp-image-703" title="testdisk1" src="http://leros.linuxapp.org/wp-content/uploads/2009/10/testdisk1.png" alt="testdisk1" width="588" height="336" />
2. 选择u盘的分区，这里是/dev/sdb<img class="alignnone size-full wp-image-704" title="testdisk2" src="http://leros.linuxapp.org/wp-content/uploads/2009/10/testdisk2.png" alt="testdisk2" width="588" height="336" /></p>

<p>3.选择分区类型，一般是intel/pc类型的[嗯，这工具支持多种分区类型吧]
<img class="alignnone size-full wp-image-705" title="testdisk3" src="http://leros.linuxapp.org/wp-content/uploads/2009/10/testdisk3.png" alt="testdisk3" width="583" height="333" /></p>

<p>4.选择高级功能
<img class="alignnone size-full wp-image-706" title="testdisk4" src="http://leros.linuxapp.org/wp-content/uploads/2009/10/testdisk4.png" alt="testdisk4" width="576" height="329" /></p>

<p>5.选择Undelete功能，即反删除
<img class="alignnone size-full wp-image-707" title="testdisk5" src="http://leros.linuxapp.org/wp-content/uploads/2009/10/testdisk5.png" alt="testdisk5" width="576" height="329" /></p>

<p>6.这里就可以看到u盘的文件了，红色显示的文件就是被删除的文件。
<img class="alignnone size-full wp-image-708" title="testdisk6" src="http://leros.linuxapp.org/wp-content/uploads/2009/10/testdisk6.png" alt="testdisk6" width="578" height="330" /></p>

<p>7. 进入到u盘的目录中找到我要恢复的文件。这里可以看出，如果是英文名的文件，可以正确显示出来，而有中文的文件名一般都丢失，需要自己根据时间及大小判断是否自己要恢复的文件。当光标指向你要恢复的文件时，按 c 键，程序会让你选择一个目录保存恢复的文件。<br />
图示中红色部分显示的是复制中<img class="alignnone size-full wp-image-709" title="testdisk8" src="http://leros.linuxapp.org/wp-content/uploads/2009/10/testdisk8.png" alt="testdisk8" width="591" height="337" /></p>

<p>8复制完成后以绿色字体显示 Copy done!
<img class="alignnone size-full wp-image-711" title="testdisk9" src="http://leros.linuxapp.org/wp-content/uploads/2009/10/testdisk9.png" alt="testdisk9" width="586" height="335" /></p>

<p>后篇：testdisk的反删除功能只是它其中一个功能，它还有其它强大的功能等待你的发掘。绝对是居家旅行，杀人放火的好工具。比起smar flash recover好的地方是不用搞破解，开源免费。但刚才似乎没找到一次恢复多个文件的方法。不过在选择了一次恢复文件保存目录后，按c可直接保存文件。</p>

<p><em>各位记住的就是，在u盘误删除文件后，千万不要再对u盘进行写操作。另外反删除也不是万能，越久之前的文档，找回的概率越小。</em></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">lerosua</span></span>

      








  


<time datetime="2009-10-20T00:00:00+08:00" pubdate data-updated="true"></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/linux-note/'>Linux Note</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2009/10/14/gtk-doc-cn/" title="Previous Post: Gtk-Doc-CN翻译项目">&laquo; Gtk-Doc-CN翻译项目</a>
      
      
        <a class="basic-alignment right" href="/blog/2009/10/26/euler/" title="Next Post: 欧拉工程">欧拉工程 &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/03/27/zhou-ji-shi/">周记 -- 诗</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/03/20/zhou-ji-ran/">周记 -- 染</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/03/13/zhou-ji-si/">周记 -- 丝</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/03/06/zhou-ji-bei/">周记 -- 悲</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/02/28/zhou-ji-mo/">周记 -- 墨</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - lerosua -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'lerosua';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://lerosua.github.io/blog/2009/10/20/undelete-for-u/';
        var disqus_url = 'http://lerosua.github.io/blog/2009/10/20/undelete-for-u/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
