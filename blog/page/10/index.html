
<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>阳光烂灿的日子</title>
	<meta name="author" content="lerosua">

	
	<meta name="description" content="点滴生活 Comments 周记 &#8211; 阳 工作：上周六日加班，一肚子火，一直加到周一，终于算是把v1.2版本发出去。然后补休两天。接着上星期四星期五，又是加班，发同事的Android版。又侵占一个假日。我奉行公平原则，反对免费加班。要加班可以，一则补休，二则补工资， &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="阳光烂灿的日子" type="application/atom+xml">
	
	<link rel="canonical" href="http://lerosua.github.io/blog/page/10/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
  

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		$(function(){
			$('.profilepic').append("<img src='http://www.gravatar.com/avatar/" + MD5("") + "?s=160' alt='Profile Picture' style='width: 160px;' />");
		});
	</script>
	
</div>

<nav id="main-nav"><ul class="main">
    <li><a href="/">Blog</a></li>
    <li><a href="http://about.me/shashankmehta">About</a></li>
    <li><a href="/blog/archives">Archives</a></li>
</ul>

<section class="aboutme">
  <p>
    人生是一场旅行
  </p>
</section>
</nav>
<nav id="sub-nav">
	<div class="social">
		
		
		
		
		
		
		
		
		
		
		
		
		
		
    	
    	
			<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-01-26T00:00:00+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/dian-di-sheng-huo/'>点滴生活</a>


</div>
		
			<span class="comments"><a href="/blog/2013/01/26/%E5%91%A8%E8%AE%B0-%E9%98%B3/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2013/01/26/%E5%91%A8%E8%AE%B0-%E9%98%B3/" itemprop="url">周记 &#8211; 阳</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>工作：上周六日加班，一肚子火，一直加到周一，终于算是把v1.2版本发出去。然后补休两天。接着上星期四星期五，又是加班，发同事的Android版。又侵占一个假日。我奉行公平原则，反对免费加班。要加班可以，一则补休，二则补工资，凡是以责任心来要求员工的老板全是耍流氓。员工应当享有休假的自由。</p>

<p>影视：这周疲于奔命，只看了一回公开课。公正这课越后面开始有点难投入，因大概开始讲一些高度抽象的概念，但是至今收获很多。很多人自以为是地作为自由主义就是自由自在，想怎样就怎样，甚至想骂人就骂人，这是他的自由。而我这才明白，那只是个人专制，唯我独尊，自由主义有很多严谨的定义，考究的理论等，所以说不读书不行。而读了书就明白，有差距。嗯，有点秀优越感，但遇到这类人，我还真不能与之辨搏。</p>

<p>说回电影，看了《少年派的奇幻漂流》。突然发现又是一个人吃人的故事，全是英国那起事故引发出来的，《天与地》提到了，之前公开课提到了，而这电影又是另一个影射。终究逃不出人吃人的社会。</p>

<p>&nbsp;</p>

<p>手机：还是说点稍微有点儿欣慰的事。MX终于迎来了2.1固件，虽然只是体验固件。一来它基于Android 4.1，二来，终于有了开root选项。至此，MX才多少值回点票价。开了ROOT，立马装上了Goagent，刷推上FaceBook那是扛扛地。不过看Youtube则有点儿卡，并且只能在全局代理模式下用。希望魅族继续优化，这个开放权限真的是做得很好，要赞一个，给予用户选择权，才是真正的尊重用户。</p>

<p>时事：这周时事，大概也就是github闹的吧，先是因为铁道部被封，后来因为李开复也声援而解了，现在又据说因为有人在github上曝光防火墙作恶者成员，并在白宫网站发起请愿行为，抵抗这些人入美国境内而有了SSL证书替换的中间人攻击。剧情峰回路转。可悲的是一些程序员在这事上表现出的自我审查兼要求他人自我审查的劣性，这些人天真地以为只要不谈论政治，就不会被审查，我又要重复多少次啊，政治即生活。难道你不生活吗，某人又以为我泛政治化了。在这里免费教育一下脑残。</p>

<p>某A保有不谈政治的理念，小区物管物业费加价，居民去物管处抗议，并收集签名希望集合大家力量跟物管谈判，不要加价。某A说，这是搞政治，不签。于是物管加价成功。小区物管垄断了菜市场，要求居民只能在他们的菜市场买菜，不准外出买菜。居民抗议，收集签名，某A说，这是搞政治，不签。于是大家都被逼着在小区物管经营的又贵态度又差的市场买菜。小区水源污染，出了问题，但物管不理不管，还把到处声张此事的抓走，说他造遥。居民私下议论纷纷，某A听到避之则吉，说这是搞政治。某A终于如愿以偿，不谈政治，了结此生，不明不白地挂了。</p>

<p>运程：☆</p>

<p>期待：想不开</p>

<p>&nbsp;</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-01-21T00:00:00+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/cheng-xu-ji-qiao/'>程序技巧</a>


</div>
		
			<span class="comments"><a href="/blog/2013/01/21/%E8%A7%A3%E5%86%B3gitosis%E9%97%AE%E9%A2%98%E4%B8%80%E5%88%99/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2013/01/21/%E8%A7%A3%E5%86%B3gitosis%E9%97%AE%E9%A2%98%E4%B8%80%E5%88%99/" itemprop="url">解决gitosis问题一则</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>最近github被墙，看来自建的git服务器还是有派上用场的时候。自建git服务器请看<a href="http://leros.linuxapp.org/?p=1254">这里</a>
但一段时间没理，再回去git pull竟然出现了问题:</p>

<p><pre lang="C">
Traceback (most recent call last):  
  File "/usr/bin/gitosis-serve", line 5, in <module>  
    from pkg_resources import load_entry_point  
  File "/usr/lib/python2.6/dist-packages/pkg_resources.py", line 2671, in <module>  
    working_set.require(__requires__)  
  File "/usr/lib/python2.6/dist-packages/pkg_resources.py", line 654, in require  
    needed = self.resolve(parse_requirements(requirements))  
  File "/usr/lib/python2.6/dist-packages/pkg_resources.py", line 552, in resolve  
    raise DistributionNotFound(req)  
pkg_resources.DistributionNotFound: gitosis==0.2 
</module></module></pre></p>

<p>此时深深理解菜博士黑python的心情啊。<br />
通过Google终于在一个日本人的<a href="http://martop.jp/blog/?p=10">博客</a>找到解决办法。竟然是python版本依赖问题&#8230;<br />
把 
<pre lang="C">
/usr/bin/gitosis-init /usr/bin/gitosis-run-hook /usr/bin/gitosis-serve
</pre>
里的
<pre lang="C">
#!/usr/bin/python
</pre>
改成
<pre lang="C">
#!/usr/bin/python2.5
</pre>
即可。</p>

<p>另一个问题是，没找到git服务器的进程，好像不需要啥命令启动这个服务。</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-01-19T00:00:00+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/dian-di-sheng-huo/'>点滴生活</a>


</div>
		
			<span class="comments"><a href="/blog/2013/01/19/%E5%91%A8%E8%AE%B0-%E8%B0%83/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2013/01/19/%E5%91%A8%E8%AE%B0-%E8%B0%83/" itemprop="url">周记 &#8211; 调</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>一周一记，日子过得挺快的，感觉没写两天就要去查下一个字是啥了。</p>

<p>工作：来吧，继续是吐槽产品经理吗，又是周末加班。说是赶着星期天发布，做移动产品的人全都是饿鬼抬胎，赶紧的。做产品开发的都知道会有个日期close feather的吧，俺移动开发永远没有，下刻发布，这一刻还在加一个feather，或调一个界面。或者好的产品经理永远是程序员咒骂的对象？anyway，补假给我就好了，我还得继续我的人生，我的人生不是只有工作，即使用来发呆，也是自主的消费，而不是被别人利用的工具。嗯，这是最近学到的自由主义里的一些概念。</p>

<p>学习：是的，最近开始上进了，学习。每晚临睡前在看网易公开课，哈佛大学的《公正：该如何做是好？》。我看简介说的是为法学院学生开的课，但全是哲学道德的问题啊。不过受益非浅啊，前三课生动活泼，引人入胜。其中一段人吃人的公案，让我想起之前TVB的《天与地》应该就是以这个公案为题材的。由浅及深地谈论了功利主义，自由主义，并实际谈论了一些如纳税，征兵，政府组成等问题，引人入胜并发人深醒。开扩了思维境界，现在想起上学时学的什么马哲，简直就是垃圾狗屎。好的思想理应让人产生愉悦感的嘛。不过最近两课开课康德的理性思维，有了哲学素有的催眠作用了，几乎都睁不开眼了。每晚跟康德做斗争真是残酷啊。不过一定要坚持下去。</p>

<p>说起来为啥突然上进了呢，原因是星期天醒来，E家宽断网，然后不得不拿着ipad看书。突然觉得不利用ipad学习真的对不起花掉的三千五块钱。于是打开之前看了一半的PHP教程继续看下去。然后PHP也大概熟悉了语法结构，相信再多看看源码，掌握它不是问题。然后就立下了每晚用ipad学习的目标。</p>

<p>折腾：开源推特有了突破性进展，把导入Twitter时间线的插件摸索出来了，并以此写了一篇<a href="http://leros.linuxapp.org/?p=1371">博文</a>。搞这些也算是一些自我满足。</p>

<p>视频：在地铁上的时间也发呆够了，于是再次找了港剧来看。《天涯侠医》，我一直以为这剧是ATV拍的。讲述远赴非洲做义工的医生的故事，神秘的非洲草原，真正的白医天使，感觉挺吸引人的。</p>

<p>时事：广州这也发生讨薪爆炸案了，普通百姓生活越来越艰辛啊。正如今天所想，月薪百万的日子不远了吧，通货膨胀会帮你的。</p>

<p>运程：☆</p>

<p>期待：再三请求，补我假吧&#8230; </p>

<p></p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-01-17T00:00:00+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/cheng-xu-ji-qiao/'>程序技巧</a>


</div>
		
			<span class="comments"><a href="/blog/2013/01/17/%E4%B8%AA%E4%BA%BA%E5%BE%AE%E5%8D%9Astatusnet%E6%8A%98%E8%85%BE%E5%B0%8F%E8%AE%B0/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2013/01/17/%E4%B8%AA%E4%BA%BA%E5%BE%AE%E5%8D%9Astatusnet%E6%8A%98%E8%85%BE%E5%B0%8F%E8%AE%B0/" itemprop="url">个人微博statusnet折腾小记</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>在两三年前还有大把人折腾独立博客，而如今移动互联网大潮之下却没啥人折腾独立微博了，沟通的紧密性，赢者通吃，业界趋于垄断，自由的精神为之远去，Aaron Swartz绝望到要自杀。</p>

<p>前言说完，叫微博也好，叫推特也好，这类短信息服务的确要多人才玩得转，不多说，statusnet是为数不多比较好用的开源服务，但它的文档其实太少了，起码中文的没多少。但由statusnet支持起来的站点还是挺多的，比如 http://identi.ca</p>

<p>准备条件：statusnet的环境要求，VPS一枚，域名一枚，数据库一枚，我搭建的环境是nginx+mysql+php5。php要有Curl,XMLWriter,GD,mbstring等模块。</p>

<p>首先去status.net官网下载稳定版本 http://status.net/download </p>

<p>然后解压到服务器目录下，一般为 /var/www/statusnet 目录。之后打开目录下的INSTALL文件，上面有安装指南，照着做吧。</p>

<p>重点在于生成数据库，把域名指向/vaar/www/statusnet目录。之后便可以在浏览器中http://yourserver.example.com/statusnet/install.php页面进行设置。</p>

<p>在statusnet目录下的config.php起码像是下面的内容，
<pre lang="C">
$config['site']['name'] = '域名';</pre></p>

<p>$config[&#8216;site&#8217;][&#8216;server&#8217;] = &#8216;域名&#8217;;<br />
$config[&#8216;site&#8217;][&#8216;path&#8217;] = false; <br />
$config[&#8216;site&#8217;][&#8216;fancy&#8217;] = true;<br />
$config[&#8216;site&#8217;][&#8216;theme&#8217;]=&#8217;micromic&#8217;;<br />
$config[&#8216;site&#8217;][&#8216;language&#8217;]=&#8217;zh_CN&#8217;;<br />
//$config[&#8216;site&#8217;][&#8216;logfile&#8217;]=&#8217;/tmp/statusnet.log&#8217;;<br />
$config[&#8216;db&#8217;][&#8216;database&#8217;] = &#8216;mysqli://数据库用户名:密码@127.0.0.1/数据库名&#8217;;<br />
$config[&#8216;db&#8217;][&#8216;type&#8217;] = &#8216;mysql&#8217;;<br />
$config[&#8216;site&#8217;][&#8216;profile&#8217;] = &#8216;public&#8217;;
</p>

<p>基本上完成以上操作，statusnet就可以正常跑起来了。</p>

<p><strong>打开SSL连接</strong>：<br />
嗯，来点高级货吧，去startssl.com申请个证书吧，方法请自行Google。给域名申请好证书并在nginx设置完后，理论上直接去statusnet的后台设置ssl连接为alway即可。但起码用着 statusnet 1.1.0版本有个不明显的bug，即如果要它打开ssl，则会检测一个$HTTPS的变量，用户如果没有设置，则登录那里会导致死循环，我就吃了两次亏，最后靠一个专家来帮我排除掉这个问题。<br />
好吧，列一下nginx里的一个设置
<pre lang="C">
server {</pre></p>

<p>        listen   443; ## listen for ipv4<br />
    ssl on;</p>

<p>//startssl申请回来的证书和密钥<br />
    ssl_certificate  /var/www/statusnet/ssl.crt;<br />
    ssl_certificate_key  /var/www/statusnet/ssl.key;</p>

<p>        server_name  域名;<br />
        access_log  /var/log/nginx/t_linuxapp.access.log;<br />
    root   /var/www/statusnet;<br />
    index index.php;<br />
    location ~ &#46;php$ {<br />
            fastcgi_pass  127.0.0.1:9000;<br />
            fastcgi_index index.php;<br />
            fastcgi_param SCRIPT_FILENAME $document_root/$fastcgi_script_name;<br />
            fastcgi_param  HTTPS    on; //这个变量很重要啊<br />
            include fastcgi_params;<br />
    }<br />
    location / {<br />
            try_files $uri $uri/ @laconica;<br />
    }<br />
    location @laconica {<br />
            rewrite ^(.+)$ /index.php?p=$1 last;<br />
    }</p>

<p>}
</p>

<p>一点提醒，证书折腾最好一开始就做，我是后来才折腾，装好证书后发现浏览器的证书锁提示有警告，站里有http的连接，因为一开始保存的一些数据是直接http的，之后它们就进数据库了。如果要转换，得进数据库操作了，还好那天专家有空，帮我搞定了，绿色的锁，安全认证。</p>

<p><strong>开启TwitterBridge插件</strong>
毕竟是个人微薄，一个人玩肯定无聊，因此肯定是想分享到别的网站上的，所以这个插件就是用来跟Twitter交互的。但因为Twitter全站SSL了，开启这个插件就要求PHP的SSL支持了，并且Curl也要有SSL支持。为了这两项，我可编译了PHP源码几次啊。</p>

<p>下面的工作请自备梯子。<br />
准备功夫，去developer.twitter.com申请一个应用程序吧。取得相应consumer_key和consumer_secret,在config.php里添加如下内容:
<pre lang="C">
$config['site']['ssl'] = 'alway'; //上面打开ssl时添加，但其实没用，在设置面板设置的时候，选项是写进数据库表的</pre></p>

<p>addPlugin(&#8216;TwitterBridge&#8217;,<br />
    array(<br />
        &#8216;consumer_key&#8217; => &#8216;EgASKsNxxxxxxxxxxx&#8217;,<br />
        &#8216;consumer_secret&#8217; => &#8216;xTHILfYW4b43kTMQxxxxxxxxxxxxxxxxxxxxx</p>

<p>    )<br />
);
</p>

<p>如此在设置面板就有相应Twitter的选项，在自己用户的设置里点击Twitter，然后连接账号，跳转到授权那，理论上能把statusnet发的信息同步到Twitter上了。</p>

<p>之所以是理论是因为还有重要的一步没做，启动后台进程。在scripts目录下有个startdaemons.sh脚本，它会帮你启动一个叫queuedaemon.php的脚本程序。有了它才能帮你同步信息到Twitter上。理论上各个站点的statusnet开启了OStatus插件的话，是可以互相follow的。目前我只和http://identi.ca/做过一些实验，却只有明确 @用户 的信息才能同步过来。即我自己站点follow了identi.ca的一个用户，平时并不能收到他的信息流，如果他明确@你，则能收到。怀疑identi.ca限制了一些东西。</p>

<p><strong>同步Twitter信息流</strong>
好吧，上面这个功能是最期待的，我一直以为还未开发出来，因为在identi.ca里找了半天也没这个选项。最后还是在TwitterBridge的README里找到了英文描述。#不读README而盲目去网上搜索的人伤不起啊<br />
在这里，我明确地说，1.1.0的statusnet是支持把Twitter上好友的信息流同步回来的。那么，这个就相当于翻墙Twitter外挂了啊。嗯，因此前面折腾SSL是必要的。不然同步一下子就被防火墙干掉你的域名.</p>

<p>前面已经设置好TwitterBridge的话，只需要在config.php再添加
<pre lang="C">
$config['twitterimport']['enabled']=true;
$config['admin']['panels'][] = 'twitter';
</pre>
那么，在用户的设置面板的Twitter选项则会多出一个 “导入我好友的时间线” 的设置，把它选上吧。最后，去到 /var/www/statusnet/plugins/TwitterBridge/daemons目录，手工开启同步脚本
<pre lang="C">
php twitterstatusfetcher.php
</pre>
理论上这个脚本应该会被前面的startdaemons.sh脚本所带起来，但我的站点并没有，因此只能手工开启。</p>

<p>PS.以上操作可能遇到一些php脚本错误问题，请自行搜索解决,这不是教程，只是备注.切记!</p>

<p>statusnet的API路径一般为 https://你的域名/API/ , Android下可用seesmic来连接</p>

<p>最后无图无真相:
<a href="http://leros.linuxapp.org/?attachment_id=1372" rel="attachment wp-att-1372"><img src="http://leros.linuxapp.org/wp-content/uploads/2013/01/QQ20130117-6-300x210.png" alt="QQ20130117-6" width="300" height="210" class="aligncenter size-medium wp-image-1372" /></a>
</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-01-12T00:00:00+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/dian-di-sheng-huo/'>点滴生活</a>


</div>
		
			<span class="comments"><a href="/blog/2013/01/12/%E5%91%A8%E8%AE%B0-%E5%90%95/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2013/01/12/%E5%91%A8%E8%AE%B0-%E5%90%95/" itemprop="url">周记 &#8211; 吕</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>工作：连续八天工作日。最气愤的是周五被告知周六加班。尼玛正如我所说的，加班应该用在处理紧急事务上，而不是因为元旦放假太多的缘故。结果星期五星期六效率低下，无故浪费时间，增加员工怒气。原先定好的发布周期有如放屁，突然想到个东西又马上加上去，把原先的设计更改掉。尼玛设计不是不能改，但不能想一出是一出啊，定好的周期不遵守，定来干嘛。何况移动开发迭代迅速，你想好的更改放到下一版本不就得了。有些设计去掉又重新捡起来，纯粹就为折腾开发人员。这些算是工作量就不好说什么，反感的是不遵守自己制定的开发周期，说好这周结束功能性开发准备测试发布，结果临时加个东西改个设计，漫无时间观念则导致士气全无。真TM受不了。</p>

<p>时事：南周这个事情没啥好说的，本来就没有独立的媒体。但是他们抗争一下也是好的，上街支持的人也是勇敢的。有条件还是移民的，呆下去都是等死的，希望是渺茫的，人生是虚无的，我是找茬的。</p>

<p>折腾：这星期倒是挺多东西折腾，一天一个花样，心思太乱了。比如星期一在构思小说。周二折腾菜博士的三网联合机器人，编译boost需要相当内存，vps吃紧得很啊。星期三跑去申请ssl的证书了，搞了一晚上，发现实在地写上合法的地址，就能通过，还是老外厚道。虽然只有一年免费。星期三则开始给开源推特折腾全站开ssl连接，遇到一些问题，最后是@jyf1987帮忙调试成功，并成功转换了数据库，劳苦功高。并且在折腾过程中习得了mosh这工具，也见识了tumx神器的共享操作技能，大张眼界。</p>

<p>心情：很郁闷，还是加班那事闹的，或许那只是导火线，一来学车这事一拖再拖，现在2013年又搞新考法，二来身在天朝无时不郁闷中。刚看一新闻，一26岁黑客Aaron Swartz自杀身亡，14岁开始贡献代码，天妒英才啊，有啥事想不开呢，兄弟要是来中国逛逛也许就想开了。</p>

<p>运程：☆</p>

<p>期待：所有不美好的事情都会成为过去，忘记所有重新开始，但那只能在没有仇恨的环境下，人生没有重置，放不开，所有耻辱带着回忆，勇敢地去接受他，面对颤抖的心，也许有一天，终于不用再害怕，也就得到了解脱。</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-01-08T00:00:00+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/linux-note/'>Linux Note</a>, <a class='category' href='/blog/categories/cheng-xu-ji-qiao/'>程序技巧</a>


</div>
		
			<span class="comments"><a href="/blog/2013/01/08/%E4%B8%89%E7%BD%91%E8%9E%8D%E5%90%88%EF%BC%9A%E6%B2%9F%E9%80%9A%E6%97%A0%E6%9E%81%E9%99%90/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2013/01/08/%E4%B8%89%E7%BD%91%E8%9E%8D%E5%90%88%EF%BC%9A%E6%B2%9F%E9%80%9A%E6%97%A0%E6%9E%81%E9%99%90/" itemprop="url">三网融合：沟通无极限</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>标题党而已。这里说的三网指的是xmpp/gtalk, IRC,QQ群。它们各自有自己聊天范围，然而如今有机会打破彊界，汇总在一起，只用gtalk的人也有机会跟只用QQ的人聊天，只挂IRC的人也有可以认识更多的人。这才是互联网的真谛嘛。</p>

<p>废话不多说，把XMPP聊天室，IRC会议室，QQ群串在一起的靠的是一个转发机器人。</p>

<p>microcai搞了个项目 https://github.com/microcai/qqbot ， 利用gloox库搞定xmpp，libwebqq库搞定QQ群，libirc库搞定IRC会议室，把不可能串成了可能。</p>

<p>配置：</p>

<p>编译基本需要gloox和boost库。boost极吃内存,没有300M过不了&#8230;</p>

<p>其余也就cmake 和make命令了。</p>

<p>microcai写死了配置文件位置，要么是 /etc/qqbotrc 要么是 ~/.qqbotrc</p>

<p>这里给一份配置示例：
<pre lang="C">qqnum=253920xxxx
qqpwd=密码</pre></p>

<p>ircnick=linuxcn<br />
ircpwd=密码<br />
ircrooms=linuxcn<br />
xmppuser=imbot@linuxapp.org <br />
xmpppwd=密码 <br />
xmpprooms=linuxcn@im.linuxapp.org <br />
logdir=/tmp/ <br />
map=qq:235609603,irc:linuxcn,xmpp:linuxcn
</p>

<p>irc默认连freenode.net服务器。xmpproms是xmpp会议室地址。map那个qq对应的就是qq群。<br />
设置好后，直接运行 ./qqbot即可。</p>

<p>演示：<br />
目前有两个demo在运行中，第一是microcai他们搞的<br />
xmpp聊天室是 avplayer@im.linuxapp.org<br />
IRC房间是 #avplayer<br />
QQ群号是 3597082<br />
随便加入一个即可。如果加入多个，则信息就会冗余了。</p>

<p>另一个demo地址:<br />
xmpp聊天室是 linuxcn@im.linuxapp.org<br />
IRC房间是 #linuxcn<br />
QQ群号是 235609603</p>

<p>欢迎来玩大杂烩。</p>

<p>PS. 关于QQ那边有点东西要补充：qq用的是webqq协议。如果在国外服务器上跑，会要求输入验证码。解决的方案是先用vps的ip作代理登录webqq页面，反复几次，让webqq记住vps的ip，设为白名单。之后不再出现验证码后，即可使用这个机器人登录qq了。</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-01-05T00:00:00+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/dian-di-sheng-huo/'>点滴生活</a>


</div>
		
			<span class="comments"><a href="/blog/2013/01/05/%E5%91%A8%E8%AE%B0-%E5%BE%8B/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2013/01/05/%E5%91%A8%E8%AE%B0-%E5%BE%8B/" itemprop="url">周记 &#8211; 律</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>2013年第一篇周记。</p>

<p>工作：也就今天开工。不过之前两天在家里也调试了一下，主要关注滤镜的内存问题。由于相片过于巨大，滤起来极吃内存，把相片转成1600大小再滤，压力顿时小了许多。再调试调试估计问题也不大。然后添加了U付的接口，让用户可以用信用卡付款。没啥难度，主要是集成了对方提供的插件。</p>

<p>时事：讨论闯黄灯问题，我还没车，不理。讨论新政，有个屁政。vpn被封，目前还有goagent顶住。理想很丰满，现实很骨感。</p>

<p>视频：放假有两天时间用来看电视剧了，又是旧剧《水浒无间道》。主要看帅哥美女，大仙与爱美神。</p>

<p>学习：放假本来有计划学一下PHP的。结果只看完了HTML和CSS的章节，虽然只开了个头，但也算解了以往对HTML和CSS上的一些不清不楚的地方。</p>

<p>放假：假期六天，中间有三天回老家，逛了一下午家俱店，最后更换了家里的电视柜和茶機。不过也没说服爸妈换掉那台26寸的CRT型大电视，之前它坏过一段时间，爸妈说不要它后，又自动好了。然后就一直不肯换了，又如用了十几年的热水器，老说又好用烧的水又热。老人家就是比较迷信旧的事物，没办法。这现实不给力也是原因之一吧。</p>

<p>其它：一直在构思着要写点什么，下载了一个写小说的软件，就由收集片断开始吧，希望能持续。</p>

<p>运程：★</p>

<p>期待：接下来六天工作日，工作顺利的话，应该不错。</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-12-29T00:00:00+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/zhao-pian/'>照片</a>


</div>
		
			<span class="comments"><a href="/blog/2012/12/29/%E5%91%A8%E8%AE%B0-%E5%B2%81/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/12/29/%E5%91%A8%E8%AE%B0-%E5%B2%81/" itemprop="url">周记 &#8211; 岁</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>应该是2012年最后一篇周记了。也是第36篇，岁字篇。字意又涨一岁啊。</p>

<p>工作：融合滤镜功能，功能调得差不多，但仍纠结于内存问题，其它app用于分享图片，都限制图片大小在640x640之中，因为滤镜调整这些图片轻车熟路，而我们app需要打印出来，基本上都是在原图大小基础上调整，一张2M的图片，却需要分配达30M的内存用于滤镜处理，恐怖之极。尝试了用ARC去编译，不过仍有些问题未解决。明年回来第一周必须要发布，又是赶活儿。</p>

<p>时事：人大通过了一个什么实名制的管理网络的法，顿时哀鸿遍野，有种末日来临的感觉。越封闭的制度对抗越开放的潮流，天朝人民毕竟不是朝鲜人了，尝试过自由的气味，会甘心再回到那个黑暗的时期吗，将会有怎样的变化视目以待。但当所有网络都被监管，2013无疑是盛世的来临，起码官方在表面上会自我感觉良好，而官面上越好看，底层将越黑暗。未来更加阴晴不定了。</p>

<p>电影：看了《寒战》，觉得有新意的地方在于高层内斗，并且展现一些高层决策机制，以往港片都比较少触及。而其中一些法制宣传的口号略显主旋律，但放在缺之少之的天朝，还是有必要展现的。然后又看了《一路向西》，果然是三级片中的文艺片。露得好看，吐槽天朝一些现象又有共鸣，最后恶搞背影一段又有新意。然后王静耍酷也很有特色，一副玩世不恭又很搞笑的样子。</p>

<p>运程：★</p>

<p>期待：接下来是六天假期，希望能干点事儿。</p>

<p>&nbsp;</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-12-25T00:00:00+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/zhao-pian/'>照片</a>


</div>
		
			<span class="comments"><a href="/blog/2012/12/25/%E6%88%91%E5%B0%B1%E7%88%B1%E8%A3%85%E9%80%BC%E7%B3%BB%E5%88%97%E4%B8%80/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/12/25/%E6%88%91%E5%B0%B1%E7%88%B1%E8%A3%85%E9%80%BC%E7%B3%BB%E5%88%97%E4%B8%80/" itemprop="url">我就爱装逼系列一</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>一心二用</p>

<p><a href="http://leros.linuxapp.org/?attachment_id=1355" rel="attachment wp-att-1355"><img class="aligncenter size-medium wp-image-1355" alt="two" src="http://leros.linuxapp.org/wp-content/uploads/2012/12/two-300x225.jpg" width="300" height="225" /></a></p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-12-22T00:00:00+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/dian-di-sheng-huo/'>点滴生活</a>


</div>
		
			<span class="comments"><a href="/blog/2012/12/22/%E5%91%A8%E8%AE%B0-%E6%88%90/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/12/22/%E5%91%A8%E8%AE%B0-%E6%88%90/" itemprop="url">周记 &#8211; 成</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>工作：这周终于感在审核团队圣诞放假前出来了个v1.1.1版本，修正关于日历与年历的bug。然后工作内容是加滤镜。正如我所吐槽的，凡是跟照片沾点边的app都想整套滤镜。个个都想大而全，拍照的有滤镜，分享的有滤镜，现在打印的也要有滤镜。估计一部iphone手机里起码有五套一样的滤镜代码。浪费用户空间，浪费网络流量。但是，还是得做&#8230;</p>

<p>网络：这周最大得益还是在折腾VPS上，终于体会到玩服务器的一点乐趣。首先是博客搬到了这个独立VPS上，这个主要功劳还是shan的帮忙。也因此有了一个二级域名: leros.linuxapp.org ，之后一级域名虽然被墙，但还是让它指向回这里吧。</p>

<p>二来是终于建立了jabber服务器，前面一篇文章记录了过程。有了自己的jabber服务器，建立了稳定的聊天室，终于我们几个网友有了固定的场所吹水。这一直是过去几年想做的事情。</p>

<p>三来竟然建立了一个statusnet服务，也就是开放的微博,推特。虽然只有自己一个人玩，但这兴奋也犹如当年建立独立博客一般。不过现在再也没有兴起当年建立独立博客一般的热潮。不是去twitter，就是去微博，或者G+，Facebook，全是私有网络，网络逐渐走向封闭的趋势。或许Stallman应该意识到，自由软件运动要扩展开来，下一波应该是要发展自由服务了。不过statusnet也不是太好用，虽然ostaus协议可以跨网关注，但似乎并不能实时获取到跨网用户的信息，或者我这还没配置好，期待进一步研究。说了半天，这个服务地址还是得说一下：t.linuxapp.org ， 具体叫什么名字也没想好，或许会推广，或许一直是自己在玩。</p>

<p>由于折腾上面的东西，接触到了平时没用过的php，nginx,mysql等，多少学习到一些益处。</p>

<p>时事：时事的话估计也就一个世界末日这话题了。事实证明，21号没有末日，但这话题却一直被商家用来炒作，大肆消费。说到底还是眼球经济。上次谈及世界末日已经是1999年的时候，我们这一代人，估计还会遇到几次。或许正如段子所言，把钱光花了，那才是世界末日。</p>

<p>电影：老犁介绍了一部《高度怀疑》给我看。看了四分之一，男主决定要干的那件事之后，我大约已经猜到剧情走向了。基本上男方的设想不可能顺利实现，反派要捣蛋，女主上场，帮忙搞定。又如写小说的定律一般，如果前面出现了枪，那它必然会发射。电影中出现了凶杀案，必然要有一个凶手。这里设定成男主，必然是再一次逆转。基本上剧本总体说得过去，我猜得到也是因为看了太多这类电影，明白它必然会逆转，这剧情下二次逆转也很正常。但这个片还是弱了点，反派被搞定的过程太快，后面的剧情赶进度一般，似乎为了逆转而逆转。</p>

<p>运程：★★</p>

<p>其它：梓潼转了份工，现在成为一名光荣的社工了。</p>

<p>期待：既然世界末日没来，日子还得继续过，地球还是继续转，期待2050。</p>

<p></p>

		
		
	</div>

</article>

</div>
<nav id="pagenavi">
    
        <a href="/blog/page/9/" class="prev">Prev</a>
    
    
        <a href="/blog/page/11/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2014

    lerosua


Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
		</div>
	</div>
	

<script type="text/javascript">
      var disqus_shortname = 'lerosua';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>










</body>
</html>
