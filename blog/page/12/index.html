
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>阳光烂灿的日子</title>
  <meta name="author" content="lerosua">

  
  <meta name="description" content="因为端午节放假，然后又调假，结果这周一至周五放假，周六日上班，真是乾坤颠倒。 工作：确定了下期工作是制作插件app，然后解决了静态库资源打包进bundle的问题，下周可以正式进入纯编码状态，有点儿苦逼，有点儿快乐！ 放假：放假五天没出过门！再多放一天估计又要开始怀疑人生了， &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://lerosua.github.io/blog/page/12">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="阳光烂灿的日子" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">阳光烂灿的日子</a></h1>
  
    <h2>--记录所有碎碎念</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:lerosua.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/15/%E5%91%A8%E8%AE%B0-%E9%98%99/">周记 &#8211; 阙</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-15T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2013/06/15/%E5%91%A8%E8%AE%B0-%E9%98%99/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2013/06/15/%E5%91%A8%E8%AE%B0-%E9%98%99/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><p>因为端午节放假，然后又调假，结果这周一至周五放假，周六日上班，真是乾坤颠倒。</p>

<p>工作：确定了下期工作是制作插件app，然后解决了静态库资源打包进bundle的问题，下周可以正式进入纯编码状态，有点儿苦逼，有点儿快乐！</p>

<p>放假：放假五天没出过门！再多放一天估计又要开始怀疑人生了，果然上班了有点儿事做就不会想七想八。假期一如即往地坚持做俯卧撑。这期最高做到43个，先继续坚持下去，不宜增长过快。</p>

<p>WWDC开完后，网上一堆对ios7的吐槽。我对它的第一印象也不怎么样，但其实大家对苹果也是期望过高了。优或者劣，还是需要时间来判定。不过相信大部分人最后还是会买单的。增强续航的MBA不错，但我还是想要13寸的rMBP，可惜离我换本估计还得要两年吧。</p>

<p>放假期间最大的折腾估计就是shadowsocks的搞定了，前文已述。还有把HTC G7刷成了4.2的系统，结果data分区太小，几乎装不了几个软件就报空间不足，还把梓童的短信全删除光了，没备份，真是得不偿失。</p>

<p>电影：看了部教育类电影『爱滋初体验』，罗家英难得当次男主角，一大主题就是歧视比疾病更可怕。虽然得了病后主角开始明白人生真谛，走了乐观向上，助人为乐的主旋律之路，但结尾还是有些亮点地表明现实残酷的现实并未改变多少的可怕。永恒的主题就是珍惜拥有，不要等失去了才后悔。<br />
无聊的日子还重看了部武侠剧『云海玉弓缘』，实际上这剧里的故事跟题目完全扯不上关系，主角一共才拉过两次弓&#8230;　而且还用了射雕里经典的丐帮帮主遭暗算，主角临危揭破叛徒阴谋当上丐帮帮主。丐帮永远是净衣派要造反，然后从外面请个人来当ＣＥＯ平乱的路线啊。</p>

<p>中国人辛苦一辈子，勉强才能在一幢高楼里临时取得一个归属之地，也就这样，还有所谓专家叫嚣「穷人就不应该买房」之类的，「房价高涨，政府才有钱给穷人建廉租房」，此类谬论不足一驳却堂而皇之出自专家之口，占据舆论媒体，呜呼哀哉。真是大白天打着灯笼都照不这眼前的路，黑暗啊。</p></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/12/shadowsocks%E7%AE%80%E5%8D%95%E9%85%8D%E7%BD%AE/">Shadowsocks简单配置</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-12T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2013/06/12/shadowsocks%E7%AE%80%E5%8D%95%E9%85%8D%E7%BD%AE/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2013/06/12/shadowsocks%E7%AE%80%E5%8D%95%E9%85%8D%E7%BD%AE/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>之前一直用goagent翻墙，在遇上shadowsocks之前，那一直是我最便捷的翻墙方案。</p>

<p><strong>服务配置：</strong>
shadowsocks要求要有一个独立VPS服务端，刚好我有。配置抄网上方案，非常简单，随便在网上找篇文章参考即成，比如这篇：
<a href="http://blog.mkfree.com/posts/515e9b46975abbe5be7e21f1"> shadowsocks-nodejs SwitchySharp 翻墙详细教程</a></p>

<p>我把过程截图下来。</p>

<p><a href="http://lerosua.org/wp-content/uploads/2013/06/shadowsocks-config.png"><img class="aligncenter size-medium wp-image-1464" alt="shadowsocks-config" src="http://lerosua.org/wp-content/uploads/2013/06/shadowsocks-config-300x224.png" width="300" height="224" /></a></p>

<p>&nbsp;</p>

<p>呵呵，我挺偷懒的啊，不过所做步骤基本不差。最后启动服务：
<pre lang="C">node server.js</pre>
服务器这边就搞定了。</p>

<p>&nbsp;</p>

<p><strong>客户端配置：</strong></p>

<p>Android客户端：请在google play 上下载 <a href="https://play.google.com/store/apps/details?id=com.github.shadowsocks">shadowsocks-android</a></p>

<p>啥服务器ip，端口按照上面配置的写，然后就搞定了，就是这么简单。（在应用程序信息里把shadowsocks-android的通知去掉，平时不用在通知栏看见它，几乎感觉不到墙的存在)</p>

<p>ios客户端: 需要越狱，然后在cydia里装shadowsocks, ios客户端没android的那么多配置和选项，只需要填服务器ip和端口。但是启动后就能无缝翻墙了。但它是全部代理，因此如果要看youku之类视频的时候，需要把它关掉，不然会识别成vps的国外ip而不让看的。</p>

<p>mac osx客户端：最方便的翻墙工具：goagentX。它内置了shadowsocks选项。地址：https://github.com/ohdarling/GoAgentX</p>

<p>配置一样，实际上我配置了加密方式为rc4,所以上面的服务配置也是写的rc4，而不是null，大家自己留意。<a href="http://lerosua.org/wp-content/uploads/2013/06/goagentx.png"><img class="aligncenter size-medium wp-image-1466" alt="goagentx" src="http://lerosua.org/wp-content/uploads/2013/06/goagentx-300x200.png" width="300" height="200" /></a></p>

<p>&nbsp;</p>

<p>开启之后，chrome配合SwitchySharp之类就老生常谈了，不会的再自行google。</p>

<p>&nbsp;</p>

<p>后记：在桌面机上的翻墙方案比较丰富，因为其资源丰富，网络长连，所以类似VPN，SSH的方案都容易解决。但VPN,SSH这类方案在移动设备上就不太容易玩，手机经常变换网络，甚至没网络，随用随开，没事节电断wifi，VPN/SSH这类断了没自动重连（好像SSH有自动重连的app），而且VPN的入口太深，基本上都过两道程序。后来有了goagent的移动版gaeproxy，这货是挺不错的存在，只要开启了，断网重连也没事。但我对它的一个不爽是，不开https的话，twitter官方app无法连上，开了https那是连一个私人服务器，关键是自编译的gaeproxy是连不上那https服务器的。而且，gaeproxy的图标太过于丑陋了&#8230; 如今的shadowsocks果然是更好的方案，twitter官方app无压力打开，youtube也视于vps的速度。我的Android手机上，已经感觉不到墙的存在了。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/08/%E5%91%A8%E8%AE%B0-%E5%B7%A8/">周记 &#8211; 巨</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-08T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2013/06/08/%E5%91%A8%E8%AE%B0-%E5%B7%A8/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2013/06/08/%E5%91%A8%E8%AE%B0-%E5%B7%A8/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><p>工作：这周发布了1.6版本。而之前的开发任务并不是很多，主要是改BUG之类。没啥好回忆的。</p>
<p>动漫：这周看了『进击的巨人』，初看有点像『杀戮都市』，仍然在连载中。然后又看了个『亡灵幻境』，血腥杀戮形态的，也是个没完结的！相对于这两部动漫基调都是很灰暗的啊。</p>
<p>晚上开始看TVB新剧『好心作怪』，又是类似坏人变好人的桥段，新意不大，之前『神探高伦布』才用过，结果演砸了。或者TVB在职业类剧集还靠谱，比如医生，警察，律师，这些剧还有水准保障，一出了时代剧就乱七八糟胡作非为，比如之前的『回到三国』，还有『神探高伦布』。</p>
<p>锻炼：这周俯卧撑已经能顺利完成指南所要求个数。并且多做几个也不是太吃力了，于是开始调换姿势，把脚放在沙发上做，增加了点难度，由此开始下周的锻炼。</p>
<p>消费：上周一次在凡客买了五件Ｔ恤，主题分别有，走进黑社会，老大哥在看你，三聚氢氨方程式，狗富贵等。一天一件有的穿了。给App store充了五十块钱，发现充值手续并不复杂，输入了银行信息后，就等银行机器客服电话来确认密码就完成了，很好的流程，然后终于在苹果上买了第一个付费app。Levitagram，用来拍特效照片，让人或物品浮空之类的，但发现要求还挺高的。</p>
<p>这周过的好平淡啊<br />
<a href="http://lerosua.org/wp-content/uploads/2013/06/i-can-fly.jpg"><img src="http://lerosua.org/wp-content/uploads/2013/06/i-can-fly-225x300.jpg" alt="i can fly" width="225" height="300" class="aligncenter size-medium wp-image-1457" /></a></p>
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/07/jawbone-up2%E6%89%8B%E7%8E%AF%E6%B5%8B%E8%AF%84/">Jawbone Up2手环测评</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-07T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2013/06/07/jawbone-up2%E6%89%8B%E7%8E%AF%E6%B5%8B%E8%AF%84/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2013/06/07/jawbone-up2%E6%89%8B%E7%8E%AF%E6%B5%8B%E8%AF%84/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>一个月前入手了jawbone up　2代手环，然后在日历里订下了今天写使用感受日志。</p>

<p>jawbone up手环属于可穿戴设备，主要用途有三个，<br />
1.记录日常活动<br />
2.记录睡眠<br />
3.作为装饰品</p>

<p>一开始我买哩，主要是为了第三个，找个可穿戴设备来做为装饰品，载着好看。我选的是蓝色M码，我个人是偏瘦的，M码是刚刚好。再选择的话估计要选L码，宽松点好。一开始戴不习惯会担心会脱落，尤其在地铁人流拥挤的地方，不是太强烈的碰撞一般不会掉落。</p>

<p>记录日常活动的话，基本上是记录活动的频繁之类的。一天上下班，记录6千步左右，而目标是一万步。周末不出门的话只有一千步以内，看着数据太少，会促发出去走走增加数据的动机，于是过去一个月已经有两次周末爬山的经历，两次都能爆目标，感觉不错。</p>

<p>在平时呢，它有个不运动提醒功能，设定了四十分钟一次，也就是上班在电脑前呆着四十分钟了，它会震动提醒，于是我起来走走，上上厕所，或者伸伸腰之类的。挺适合程序员的啊，以前有公司也建议坐太久起来运动一下，放起了广播体操音乐，让大家在一个固定时间动起来，但其实效果很差。然后现在自己的手环提醒，感觉就自主很多，属于自我激励而不是被逼，于是会更积极。</p>

<p>而记录睡眠呢，它可以让我了解昨晚的睡眠状况，入睡时间，深度睡眠之类。有个缺点是必须手动按钮启动睡眠模式，不过我已养成习惯，睡觉前按一下而已，也不复杂。而它的智能唤醒功能已经代替了手机的闹钟，手环上的震动好过手机的闹铃吧。</p>

<p>电池的使用状况呢，介绍上说的是10天，基本上我使用上来是一星期充一次，大概是因为白天震动的多，实际上电量维持在8天左右。然而每天同步也是一件比较麻烦的是，需要拿下来插到手机上。这货插手机同步不灵敏，基本上要重复插上三次才有反应。</p>

<p>设备是防水的，但我也不会戴着来洗澡。</p>

<p>jawbone up2如今已有行货，卖到1100￥，我虽在淘宝买的，也是988￥这样的价格。相对来说太贵了，但要尝鲜，肯定要付出代价的。咕咚早就宣传要出手环，基本上是复制jawbone up，但看过实际图片后，那货又山寨又大，最后还和百度合作，虽是便宜，不值购也！</p>

<p>再说说使用的改变吧，基本上一开始是买来装逼的。对的，你们戴的是手表，佛珠啥的，俺戴的可是高科技产品，可穿戴设备，未来的科技啊。嗯，很正常，然后呢，为了数据，开始想多出去走走，后来呢，关注了一些健康app，于是又重启了封尘多年的健身计划，如今每晚都有锻炼。成果稍后展示！</p>

<p>相对来说，这设备买来还是挺值的！唯一的寄望是，耐用点，别那么快坏！</p>

<p><a href="http://leros.linuxapp.org/wp-content/uploads/2013/06/jawboneup.jpg"><img class="aligncenter size-medium wp-image-1450" alt="jawboneup" src="http://leros.linuxapp.org/wp-content/uploads/2013/06/jawboneup-225x300.jpg" width="225" height="300" /></a></p>

<p>&nbsp;</p>

<p>下图是对应app记录的睡眠状态图:</p>

<p>&nbsp;</p>

<p><a href="http://leros.linuxapp.org/wp-content/uploads/2013/06/sleep.png"><img class="aligncenter size-medium wp-image-1451" alt="sleep" src="http://leros.linuxapp.org/wp-content/uploads/2013/06/sleep-200x300.png" width="200" height="300" /></a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/04/%E8%BF%9B%E5%87%BB%E7%9A%84%E5%A4%A9%E6%9C%9D/">进击的天朝</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-04T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2013/06/04/%E8%BF%9B%E5%87%BB%E7%9A%84%E5%A4%A9%E6%9C%9D/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2013/06/04/%E8%BF%9B%E5%87%BB%E7%9A%84%E5%A4%A9%E6%9C%9D/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>『十月围城』开头片段，一群学生围着一个老师问，我们能不能看见中国民主的那一天。老师回答，我是看不到了，你们应该能看到。结果老师说完就被爆头了。他连明天的太阳都看不到了。当然我们也知道，那群学生也没看到，因为我们都还没看到。</p>

<p>然而这个问题今天再问一次，依然很难回答。</p>

<p>早些时候国外一些家伙在预测2035年人类将可以迎来技术奇点，那时疾病全解决，甚至能长生不老。听到这个消息，我的心冷了一半，人家在追求技术进步，我们还在追求基本人权&#8230;　更关键在于，技术进步带来的优势将更加强大邪恶制度，垄断者不再需要面临死亡，将成为真正的魔鬼。当然乐观的同学会觉得他们活不到技术奇点来临的，我也是这么想的。</p>

<p>最近看了『进击的巨人』，这漫画的氛围真的很适合描述天朝，恐惧，绝望。更绝望的不是巨人吃人，而是人类残害人类。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/01/%E5%91%A8%E8%AE%B0-%E5%8F%B7/">周记 &#8211; 号</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-01T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2013/06/01/%E5%91%A8%E8%AE%B0-%E5%8F%B7/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2013/06/01/%E5%91%A8%E8%AE%B0-%E5%8F%B7/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><p>祝大家儿童节快乐！</p>

<p>这周过得也是very快啊！</p>

<p>工作：出乎意料，这周并不是什么大改周，而是小修改，不过也挺重要的，增加优惠政策的方案，以利于以后的营销做活动推广。还有增加产品的类别，严重怀疑那些换了纸张而另外价格的产品是否能得到市场青睐，尤其是原产品价格不变的情况下，用户看到的只是更贵的一个东西，算了，那是营销考虑的东西。下周应该会发一版本，解决之前的BUG，这周工作还算轻松。</p>

<p>电影：更出乎意料的是，周一下午的时候，经理带同事们去看电影。首先是去吃了日本料理(谈不上喜欢，理智上不想吃生东西），然后再看『中国合伙人』。多少年没有进入过电影院了，结果这周就进了两次，然后周六的时候，去看望妹妹，妹夫公司包了个场请员工看电影，俺们凑数也进去看了，结果仍然看的是，『中国合伙人』。发现这部片几乎是公司必引进教材啊。都是想让员工秉承创业心理吗？不过陈可辛这部片的确处理得很清楚，打动人心的，还是那份友情吧，比投名状要光明多了，也没有某些文章说的那么势利。</p>

<p>锻炼：上周开始做俯卧撑，然后接着下蹲，仰臣起坐也一起练习了。开头三四天有酸痛，并且都能完成，这两天酸痛感已经消失，但标准个数的俯卧撑下去了就很难再上来，只能勉强凑数完成，但胜在坚持嘛，虽然只做了一周，但感觉肌肉有所变化，继续坚持，努力。</p>

<p>周六早上又去爬了白云山，不过没去山顶，转去了西门，胜在散步闲情，也好过在家里睡懒觉。<br />
拍了一些照片，才知道，原来iphone 3G状态下也同步照片流，结果月头第一天就用掉两百Ｍ，一半的流量&#8230;</p>

<p>折腾：这周搞定了ejabberd的j2j扩展，实现了xmpp连接新浪微博私信的功能。然后借用云帆的VPS搞定了pptp和L2tp的VPN服务，顺带我又有了可靠的VPN可用了，当然过程有点曲折，还把云帆的VPS格了一次，实在有点对不住他。</p>

<p>时事：虽是儿童节，但之前的日子却是儿童劫。校长教师领导之类性侵小学生的事件层出不穷，家长无处说理，而为之出头者更是被报复打压。what can i say &#8230;<br />
梓童在看完『中国合伙人』后，指着孟晓俊在美国洗盘子的待遇问我，你现在还想去美国吗？我回答她，更加坚定了去美国的心，因为片中也实际地告诉了我们，99年大使馆被炸，结果一群爱国愤青跑去砸英文学校，也只会中国人打中国人，欺负中国人，中国人最在行。这片更时事的一点是，校长，那是白痴都能做的事，校长，请用演讲代替你的性生活，放过小学生吧！</p></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/27/gtalk%E8%BF%9E%E6%96%B0%E6%B5%AA%E5%BE%AE%E5%8D%9A%E7%A7%81%E4%BF%A1/">Gtalk连新浪微博私信</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-27T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2013/05/27/gtalk%E8%BF%9E%E6%96%B0%E6%B5%AA%E5%BE%AE%E5%8D%9A%E7%A7%81%E4%BF%A1/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2013/05/27/gtalk%E8%BF%9E%E6%96%B0%E6%B5%AA%E5%BE%AE%E5%8D%9A%E7%A7%81%E4%BF%A1/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>昨天我们折腾了j2j的服务扩展，那么怎么用哩，这里示范一下，比如用gtalk连上新浪微博私信。</p>

<p>这里的gtalk不是window下那个客户端，是pidgin或其它xmpp客户端连接gtalk的账号而已。<br />
xmpp连接新浪微博私信可参考：http://aoxuis.me/2013/04/16/xmpp-weibo/</p>

<p>先用psi连接上gtalk的账号，用服务发现找到有j2j扩展的服务器，说实话，我在网上找了上百个xmpp服务器，没几个好用的，于是自己建了一个,也就是linuxapp.org了。</p>

<p>参考昨天的图：
<img alt="" src="http://leros.linuxapp.org/wp-content/uploads/2013/05/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7-2013-05-26-%E4%B8%8B%E5%8D%8812.54.40.png" /></p>

<p>双击j2j.linuxapp.org部分,即有注册选项，如图填写:</p>

<p><img alt="" src="http://leros.linuxapp.org/wp-content/uploads/2013/05/register-sinaweibo.png" /></p>

<p>点击注册即可。</p>

<p>然后就有一堆提示，新浪微博的好友会自动添加提示，一一选是，当然它们的ID比较难认，一开始是 uuid%weibo.com@j2j.linuxapp.org这种形式，无奈transport都是这样，聊的多了再给他们改名吧。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/26/ejabberd%E6%9C%8D%E5%8A%A1%E5%99%A8transport%E7%BD%91%E5%85%B3j2j%E6%89%A9%E5%B1%95%E6%8A%98%E8%85%BE%E8%AE%B0/">Ejabberd服务器transport网关j2j扩展折腾记</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-26T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2013/05/26/ejabberd%E6%9C%8D%E5%8A%A1%E5%99%A8transport%E7%BD%91%E5%85%B3j2j%E6%89%A9%E5%B1%95%E6%8A%98%E8%85%BE%E8%AE%B0/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2013/05/26/ejabberd%E6%9C%8D%E5%8A%A1%E5%99%A8transport%E7%BD%91%E5%85%B3j2j%E6%89%A9%E5%B1%95%E6%8A%98%E8%85%BE%E8%AE%B0/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><p>ejabberd服务器，xmpp协议服务器。<br />
今天我要折腾的就是给这个服务器加个j2j扩展。那啥是j2j呢，就是jabber to jabber. 本来大家都是用xmpp协议，只要服务器开通了s2s特性，就能互联。比如以前的jabber.org连gtalk，说到这，又要责怪一下google放弃xmpp协议搞hangouts啥的了，你搞就搞，关闭xmpp协议干鸟啊，少了互联特性，一点也不geek了。<br />
好了，说回来，这个j2j的transport就是为了那些不开放s2s，各自为政的xmpp协议服务的。比如新浪微博，它私信用的是xmpp，但不支持s2s，所以只要有j2j扩展，就可以把gtalk连到新浪微博上, yes i can.</p>

<p>操作步骤参考wifi : http://wiki.jrudevels.org/Eng:J2J:AdminGuide</p>

<p>首先安装好依赖：python &gt; 2.3, python-mysqldb, Twisted 等等。</p>

<p>下载源码:</p><pre lang="C">
svn co svn://svn.jrudevels.org/j2j/trunk j2j/
</pre><p>设置数据库：<br />
可以使用postgresql或mysql，　我这里使用mysql</p><pre lang="C">
　mysql -h localhost -u root -p -e "CREATE DATABASE j2j;"
</pre><pre lang="C">
mysql -h localhost -u root -p -e "GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP ON j2j.* TO 'j2j'@'localhost' IDENTIFIED BY 'yourpassword';"
</pre><p>然后这句，说是导入数据库结构。</p><pre lang="C">
mysql -h localhost -u root -p -e "use j2j; \. mysql.schema"
</pre><p>至此数据库设置完毕。</p>

<p>ejabberd服务器配置:<br />
英文文档里少了这一步，害我折腾了好久，在ejabberd的配置eajbberd.cfg里要把transport的配置打开，一般它的位置是 /opt/ejabberd-2.1.11/conf/eajbberd.cfg</p><pre lang="C">
  {8888, ejabberd_service, [
                            {access, all},
                    {shaper_rule, fast},
                    {ip, {127, 0, 0, 1}},
                    {hosts, ["j2j.example.org"],
                     [{password, "xxxxx"}]
                            }
                           ]},
</pre><p>当然example.org是你ejabberd的服务器域名，并且把j2j.example.org的子域名设置好。编辑完配置则重启服务。</p>

<p>网关配置:<br />
回到j2j的源码目录，编辑j2j.conf</p><pre lang="C">
cat j2j.conf
[component]
JID=j2j.example.org
Host=127.0.0.1
Port=8888
Password=xxxxx
Send_probes=True</pre></p>

<p>[process]<br />
Pid=/var/run/j2jt/j2jt.pid ; pid file</p>

<p>[database]<br />
Host=localhost<br />
Type=mysql ;or mysql<br />
User=j2j<br />
Name=j2j<br />
Password=数据库密码<br />
Prefix=j2j_<br />
mysql_ping_period=2 ; ping period for mysql in hours. 0 for none</p>

<p>[admins]<br />
List=lerosua@gmail.com,admin2@example.net,admin3@some.net<br />
Registrations_notify=True</p>

<p>[debug]<br />
logfile=/var/log/j2j/j2j.log<br />
registrations=yes<br />
logins=yes</p>

<p>xml_logging=/var/log/j2j/xml.log<br />
component_xml=no<br />
clients_xml=no<br />
clients_jids_to_log=All ;or user1@server,user2@server
<p>主要配置好component这一段问题就不大了。</p>

<p>最后运行:</p><pre lang="C">
sudo ./main.py
</pre><p>用root权限去跑。</p>

<p>验证：<br />
使用psi，用服务发现去找服务器：即可看见j2j的扩展，如图:</p>

<p><img src="http://leros.linuxapp.org/wp-content/uploads/2013/05/屏幕快照-2013-05-26-下午12.54.40.png" alt="" /></p></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/25/%E5%91%A8%E8%AE%B0-%E5%89%91/">周记 &#8211; 剑</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-25T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2013/05/25/%E5%91%A8%E8%AE%B0-%E5%89%91/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2013/05/25/%E5%91%A8%E8%AE%B0-%E5%89%91/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><p>这一周果然过得很快！</p>

<p>工作：算是完成了马甲app的收尾工作，周二经理突然出差北京了。然后开发状态就挺自由的，他不在，自然就没啥变数，于是按计划顺序推进，周四周五测试提bug改bug。但相信下周回来，他会带着一堆更改重新设计之类的东西回来。预备是新一轮的工作吧。</p>

<p>视频：电影好像没怎么看，主要在youtube看了『寻找1949，国民党是如何失去大陆』这个记录片，一共五，以国共内战期间五年为分，一年一集。纷纷挠挠从国军方面讲述了那段岁月的事情。抗战胜利后两三年内国军逐渐溃败，共党瞬速崛起。至关键一因素就是东北战场。东北势落之后，基本上形势就定型了。而之前看『李宗仁传』的时候就知道一个关键因素是日本投降后，国军未能及时进东北接受投降以致共军转了这个空，导致东北战场的陷落。当时国军大部分主力在西南一带，路途遥远是一个原因。好像在那本书中总结的原因是老蒋信不过旁系军队，一定要他的嫡系军队去接收。而如今看了这个记录，也明了更关键的一个因素还是苏联在从中做梗。而苏联进入东北也是处心积虑的，说是对日宣战，实则到东北抢劫。苏联占领了东北，把日本留下的军工枪械能带走的带走，不能带走的留给土共。留下内战一大祸根。老毛子之可恨，百年所积，至今未能清算。而另一方面土共间谍渗入国军各个部位，低层带兵投降，临阵倒戈，高层潜伏，遗祸战机等，不一而足。在东北打人海战术，赶着老百姓往前冲，泯灭人性，又是不一而足，然而却能欺世盗名，上宣民主以骗各界民主人士，下分田地以欺农民妇孺。一建国就立马翻面不认，从此开始洗脑专制。可悲六十年了，真相还不能大行于世。呜呼矣哉！</p>

<p>活动：本想周日去骑车，但梓童要去上课，结果又取消了，结果这场约连续三个星期未能实现。手机下了个俯卧撑教练的app，有计划地帮你训练俯卧撑，科学分组地练习，并有记录功能，这样的话说不定我能坚持下去，真正做到做100个。昨晚开始练习，今晚继续。我倒是发现有点规律，有点记录的东西我都比较能坚持下去。</p>

<p>上周去白云山回来时在外面吃饭，吃了双皮奶，梓童回来上网查了下就会做了。做了两次，我觉得很好吃。梓童说外面的双皮奶都是用双皮奶粉做的，不如我们自己用纯奶和鸡蛋做的好。嗯，以后让她经常做来吃，结合我的俯卧撑计划补充蛋白。</p></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/18/%E5%91%A8%E8%AE%B0-%E5%86%88/">周记 &#8211; 冈</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-18T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2013/05/18/%E5%91%A8%E8%AE%B0-%E5%86%88/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2013/05/18/%E5%91%A8%E8%AE%B0-%E5%86%88/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><p>工作:  主要是制作新app的内容，切图样式有些变化，布局需要重新设置，这是有点麻烦的地方。然后原app准备推广，发现了一些挺损用户操作的bug。没有专业测试就是这样，小作坊开发方式。于是周五专门发原app的bug，于是又放出一个更新版。希望这次能解决那些bug。基本上这周工作的比较苦闷，心情郁结，准备了要发布新版后稍稍有所回复。</p>

<p>电影： 这周看得挺多电影啊。但首先是在Youtube上看了艾未未的『老妈蹄花』，看到天朝暴力机构的两面作为。这是现实，却不是电影，深深浓味着黑暗。今天好像还是艾未未生日哩，这家伙，刷屏高手啊，推上一览全是他的卖萌，或许那句，『活得精彩，才是对这腐朽社会强有力的报复』，正是他的写照。这句也应该送给自己，老是绝望毫无建树及意义，而今天看到甘泉同学分享的一个<a href="http://ganquan.org/blog/2013/05/%E5%A5%BD%E6%96%87%E5%88%86%E4%BA%AB/">文章</a>中，其中说道，『做正确的事，任何时候都是好时候』。所以，我实在没有理由沮丧，民主不可能天上掉下来，不可能我什么都不做就能得来。坚持正直的观念，在这社会中，也是一点明亮的光芒吧。我实在很佩服写文章的那位同学，为自己理想主义而实践行动。既然我做不到如此，只有尽最大努力做好正直人的本分吧。</p>

<p>好吧，说回电影。还是那句，有剧透！<br />
『毒战』看了。这片挺纪实啊，两主角其实没啥别的废话，人物身份导向剧情发展，警察要捉毒贩，毒贩要逃跑，基本上全片动力在于此。毒贩的狠，的确表现得淋漓尽致了。片尾大战，警察一锅端，能过审查真是奇迹。再说回毒品，古天乐上回在门徒里是瘾君子，这回干起制毒的了，呵呵。贩毒的主要方式是包装好，给人呑下，到地点后再拉出来，再听说无良的拆家（呃，难道拆家还有良的，卖纯的毒品是有良的？）在毒品里掺玻璃粉之类什么的。吸毒的人还顺带吸屎了啊 &#8230; 虽然是包装好，但它在大肠中出来就让我有这种感觉。嗯，毒品害一生，别碰。</p>

<p>另一部片则是『戏子，厨子，痞子』，有人影评谓之中国抗日神奇四侠，果然各种技巧精巧绝伦。无力吐槽，实际上前半段挺闷的，后面渐渐有些看头，但又因为过于主旋律，我感觉又不爽。反正历史又更正之前，拍的任何抗日题材戏都是耍流氓，在我看来。</p>

<p>其余烂片如『回马枪』，完全是浪费演员，伊能静完全花瓶了还无作用，任达华浪费了。</p>

<p>活动：周日跑了一下步，大概3000米，结果许久没锻炼，接下来三四天脚都酸麻。然后打算叫人这周一起去大夫山骑车，一个个都说没空，如今组织个活动真是困难。于是今天和老婆两人去登白云山。算起来也有六七年没爬过白云山了，总觉得近在咫尺，然而更因为随时可以去，造成了一直不会去的后果。还好今天总算达成目标，许久没有亲近树林了。空气清新，鸟语花香。然后不理解的那些登山者，明明来这里听鸟鸣的声音挺好，非要在腰间放个播放器放流行音乐。完全是破坏和谐的自然之音。尤其是那放『舞女』那歌的&#8230; 什么意境啊&#8230;<br />
当然下山的时候坐了车，然后再走下来，回来后洗了个澡，非常舒爽的感觉。最后 jawbone up里显示一共走了18000步。今天终于算是完成一万步的目标了。之后还是应该经常上山走走。</p></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/13/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/11/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/04/05/zhou-ji-ci/">周记 &#8211; 此</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/29/zhou-ji-gai/">周记 &#8211; 盖</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/22/zhou-ji-fang/">周记 &#8211; 方</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/15/zhou-ji-wan/">周记 &#8211; 万</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/08/zhou-ji-ji/">周记 &#8211; 及</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - lerosua -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'lerosua';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
