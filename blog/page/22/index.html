
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>阳光烂灿的日子</title>
  <meta name="author" content="lerosua">

  
  <meta name="description" content="rename是Linux下的批量文件名更改工具。怎么好用以前也只不过是听说，今天有机会试用之。 正巧有一批文件，命名方式颇为奇特, 001ac.jpg  002ae.jpg 003.ag.jpg ... 012gf.jpg 是这么一个序列，前面是正常的数字序列，加两个冒似无序的字母， &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://lerosua.github.io/blog/page/22">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="阳光烂灿的日子" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">阳光烂灿的日子</a></h1>
  
    <h2>--记录所有碎碎念</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:lerosua.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/11/16/rename_do/">记一次 Rename 命令解决方案</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-11-16T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2011/11/16/rename_do/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2011/11/16/rename_do/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>rename是Linux下的批量文件名更改工具。怎么好用以前也只不过是听说，今天有机会试用之。</p>

<p>正巧有一批文件，命名方式颇为奇特,
<pre lang="C">
001ac.jpg  002ae.jpg 003.ag.jpg ... 012gf.jpg
</pre>
是这么一个序列，前面是正常的数字序列，加两个冒似无序的字母，其实是也是有序的。要的结果是得到正常的
<pre lang="C">
001.jpg 002.jpg 003.jpg ... 012.jpg
</pre></p>

<p>一开始想到的可以用bash的tr来做，冒似要写复杂的脚本，用来得到文件名，然后tr掉，然后再改名。</p>

<p>rename的用法是， rename a b * , 意思是把文件名里的a转换成b。</p>

<p>那么取得a到z的循环，执行两次 rename 或许能把字母给过滤掉。于是
<pre lang="C">
#!/bin/sh
for i in {a..z}
do
   rename $i '' *.jpg
   rename $i '' *.jpg
done
</pre>
能成吗？不能。结果是执行到 g 的时候把文件名的全换成 .jp的了，于是第二次rename找不到文件名。<br />
不过rename还有第二个用法，就是改文件名。既然第一次换字母可能把文件名后缀给换掉，其实把文件名后缀先换成非字母就可以了。于是
<pre lang="C">
#!/bin/sh
rename .jpg .89 *
for i in {a..z}
do
   rename $i '' *.89
   rename $i '' *.89
done
rename .89 .jpg *
</pre>
即一开始就把后缀换成数字的，然后把字母全strip掉，然后再把数字后缀的换回正常的jpg后缀。<br />
搞定了。</p>

<p><p>后续：</p>
好吧，apporc把问题贴到stackoverflow了，那咱也来学习一下相关的bash技巧。<br />
首先是apporc自己的方案:
<pre lang="C">
  1 #!/bin/bash
  2
  3 for i in `find . -name "*.jpg"`
  4     do
  5         j=${i:0:3}
  6         echo $j
  7         mv $i $j.jpg
  8 done
</pre>
看准了名字序列只有前面三个字母有效，于是取出来，重命名之。这方案很好啊，为啥他还说wired &#8230;</p>

<p><pre lang="C">
find . -name "*.jpg" | while read $name
do
    newName=${name:0:3}
    mv $i $j.jpg
done
</pre>
这是David W的改写版本，获取方式不一样而已。然后看它下一个方案
<pre lang="C">
for number in {1..100}
do
   zf_number=$(printf "%3d", $number)   #Zero fill number
   if [ -e ${zf_number}* ]
   then 
       mv ${zf_number}* $zf_number.jpg
   fi
done
</pre>
这是先取得数字序列，然后通过匹配数字名的方法来改名，感觉繁琐了一点。</p>

<p><pre lang="C">
#!/bin/bash</pre></p>

<p>for i in $( find . -name &#8220;*.jpg&#8221;) ;do<br />
      new=$(echo &#8220;$i&#8221; | sed &#8216;s/[A-Za-z&#46;][A-Za-z&#46;]*//g&#8217;)           <br />
      echo $new<br />
      echo mv $i $new.jpg<br />
done

这是另一个用户shellter的方案。直接是把文件名的字母全过滤掉，然后再重命名回来。不用说，它sed的正则用得很熟。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/11/15/%E5%8F%88%E6%98%AF%E4%B9%B1%E8%B0%88/">又是乱谈</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-11-15T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2011/11/15/%E5%8F%88%E6%98%AF%E4%B9%B1%E8%B0%88/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2011/11/15/%E5%8F%88%E6%98%AF%E4%B9%B1%E8%B0%88/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>昨天终于购入了一个vpn账号。我觉得这个事情值得记下来。当然不是因为翻墙这件事情。翻墙我一直都在干。但以前总是折腾免费的方案。像什么推特的api，hosts IP设置，网上的免费代理，使用国外空间的ssh，ipv6隧道等等。这些方案或能解决某些应用，或于某些时候失效，每当这个时候，总要问候一下“亲爱的方校长”。</p>

<p>然后我终于用金钱购买vpn账号这个事情的意义在于，我变得圆滑了。正如《李献计历险计》中李献计说得那样，他开始变得圆滑，不再为了五十万而和拉登死磕。我也不再那么因为墙而跟方校长死磕了，用金钱购买服务。</p>

<p>我能月付10元去购买移动的GPRS业务，为啥就不能再花10元去购买上自由网的业务呢。因为那10元GPRS只是上局域网的业务而已。或许该明白，在天朝，一切都明码标价，包含这网上畅游的自由。但这不是很明显的吗，同样外来人员，住城中村的必然要去办暂住证，隔三差五被人查暂住证嘛。而住高级小区的白领多少免除这种不公平待遇。穷人家生了第二个小孩，马上就被计生人员又拉又锁的，而富人家三四个小孩对他们来说只是额外付出一点小钱就能解决的小问题。</p>

<p>so，这里没有天赋人权，只有钱赎人权。花一分钱，赎回一分人权，花十分钱，赎回十分人权。不过有些人权不设找赎，比如投票权。富人知道花再多的钱也赎不回一个完整的人格，所以他们纷纷移民。</p>

<p>所以在天朝，没钱，是耻辱的。因为你不是一个完整的人。你推着早餐车，被人没收了你不敢抗议，你提着水果篮，被人打翻你不敢声张。你在出租屋里看苍井空都可能被警察破门而入以侵犯淫讳条例而被抓。你没车，每天像蚂蚁一样挤着地铁，出来流的都是别人的汗。你没房，出租屋里挤了三四对情侣每晚莺燕齐鸣。你勉强买了车，隔三差五限行限号，油价跟国际接轨，开一次就跟没脚的小鸟一样停不下来只因为找不到车位。你勉强供了楼，半辈子积蓄兼银行贷款，从此不敢旅游请病假，结果一纸通告此区重建发你两万哪凉快哪去，拆迁了。其实不拆迁也挺不了七十年啊，那质量，您觉得呢？所以拆迁还是对的。如果你要是当钉子户，基本上是从人民的队伍里消失了。要是还上访，那裆还不按敌我矛盾处理啊。</p>

<p>呃，归了个底，还是钱的问题，所以，您明白全国人民都在搞钱的原因了吧。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/11/09/%E7%8C%9C%E6%95%B0%E5%AD%97/">猜数字</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-11-09T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2011/11/09/%E7%8C%9C%E6%95%B0%E5%AD%97/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2011/11/09/%E7%8C%9C%E6%95%B0%E5%AD%97/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>今天跟网友们参加一个”不能说的秘密“的数字竞猜游戏。下面是各位给出的答案：</p>

<p>wind                              2012<br />
microcai                       2012<br />
jyf1987                          2018<br />
tonyg                            2050<br />
adam8157                  2020<br />
pypcjs                          2020<br />
lerosua                       2021<br />
meaculpa                   2129<br />
wzssyqa                     2019<br />
ofan                           正无穷</p>

<p>答案的规则是谁最接近为赢，绝对值相同则数字小的为赢。<br />
好了，历史将为我们揭晓答案。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/16/gmchess-in-mac-osx/">Gmchess in Mac osX</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-16T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2011/10/16/gmchess-in-mac-osx/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2011/10/16/gmchess-in-mac-osx/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>mac osX的好处是，我在linux下的技巧几乎可以照单全收。并且装了个类似linux的命令行包管理工具homebrew.执行起来类似apt,yum,pacman.</p>

<p>只需要 brew install gtkmm，即可帮我在mac osX下装好gtkmm的跨平台环境。当然还需要别的一些辅助编译的工具，比如autotool类.过程较为烦琐，不过搞定之后，我就用gmchess来试试，编译过程也需要到一些工具链调整及代码上的调整。似乎mac 上的g++要求更严格。初步调整后可以编译，并且gmchess也能跑了，不过，也有一些问题仍待解决。比如没加载到po语言文件，界面上没有字了&#8230; 本地录没有.config导致初始化失败，没有声音，因为用了专属的aply命令。还有引擎没有加载正确开局库导致它弱智了。</p>

<p>不过，问题都不大。预计下一个版本就可正式在mac上跑了。</p>

<p><a href="http://leros.linuxapp.org/wp-content/uploads/2011/10/gmchess-osx.jpg"><img class="aligncenter size-medium wp-image-1081" title="gmchess-osx" src="http://leros.linuxapp.org/wp-content/uploads/2011/10/gmchess-osx-300x187.jpg" alt="" width="300" height="187" /></a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/15/gmchess-0-29-4/">Gmchess 0.29.4</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-15T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2011/10/15/gmchess-0-29-4/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2011/10/15/gmchess-0-29-4/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>i just release the gmchess 0.29.4. just thinking long time no release. maybe i can release more busy in the further, or maybe not.</p>

<p>it just add one useful function you can see. i can&#8217;t tell you in english. just saw the picture.
<a href="http://leros.linuxapp.org/wp-content/uploads/2011/10/gmchess-0294.jpg"><img class="aligncenter size-medium wp-image-1075" title="gmchess-0294" src="http://leros.linuxapp.org/wp-content/uploads/2011/10/gmchess-0294-300x187.jpg" alt="" width="300" height="187" /></a></p>

<p>Download<a href=" http://gmchess.googlecode.com/files/gmchess-0.29.4.tar.bz2"> gmchess-0.29.4.tar.bz2</a>
thank you.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/06/%E5%86%8D%E8%A7%81%E4%BA%86%E4%B9%94%E5%B8%AE%E4%B8%BB/">再见了,乔帮主</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-06T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2011/10/06/%E5%86%8D%E8%A7%81%E4%BA%86%E4%B9%94%E5%B8%AE%E4%B8%BB/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2011/10/06/%E5%86%8D%E8%A7%81%E4%BA%86%E4%B9%94%E5%B8%AE%E4%B8%BB/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>算是机缘巧合，一星期前开始接触苹果的产品。见识了精致的工业设计。macbook pro的精致，令我下定决心下一部笔记本必定是它了。实在想不明白为啥其它笔记本的触摸板整那么小一块，根本不够用。不明白为什么电源线带着那么大一块适配器，还称啥移动性。难道这些都是苹果的专利了？但是相对iphone来说，我还是觉得android更有可玩性。<br />
今天早上出门的时候，在推特上已得知乔布斯已离去，有点惊愕。昨天才iphone4s的发布会，今天他就已离去，总觉得突然。大家都觉得可惜，天妨英才。<br />
他已然是一个伟大的人，令我们生活更加美好。于已得名，于民得利。</p>

<p>然而又不禁令我想到，当今天朝某些人，明明有机会，却要扬恶名，在阻碍人类进步的步伐。两种境界，孰轻孰重，一目了然。<br />
正是有些人死了，却活在大家的心里，有些人活着，却尸位素餐。<br />
乔帮主，真正脱离了低级趣味的人。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/03/%E7%99%BD%E5%8F%91%E9%AD%94%E5%A5%B3%E4%BC%A0/">白发魔女传</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-03T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2011/10/03/%E7%99%BD%E5%8F%91%E9%AD%94%E5%A5%B3%E4%BC%A0/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2011/10/03/%E7%99%BD%E5%8F%91%E9%AD%94%E5%A5%B3%E4%BC%A0/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>今天看了93版的《白发魔女传》电影，林青霞和张国荣主演的。可惜在youku上的版本把他们定情的部分给删除了，这部分很关键也很精华，不交待难以对以后的剧情起到转承的作用。但整故事来说，讲的是情侣间的信任。<br />
   定完情，练就跑去脱离魔教，受尽折磨。去到武当找到卓一航，面对的却是质问，质问她是不是带人干掉武当的人。我为了你放弃了一切，你却不相信我。练的心情可想而知，然而她还是给了他一个机会，没有解释，直接叫他跟她走。想想练孤僻自傲的性格，又怎么会随便解释呢，彪悍的人生从来不需要解释嘛。这个不解释，最终不就造成了悲剧嘛。<br />
   但仅仅是因为不解释吗？其实在第二部中已经借陈圆圆的口说出了答案，像你这样性格的人，跟谁在一起都没有好结果。这当然不是，其实像练这种牛B性格的人大有人在。比如黄药师就是一个。郭靖等人误会黄药师杀死他师傅，全真七子误会他杀死周伯通时，他都是不解释，甚至直接认了，你说是就是了，多牛B啊。但也只有黄蓉知道他老爹没干这事。也就是说，只有了解这个性格的聪明人才能和这种人相处。黄药师的老婆也绝对是个聪明人，要不是难产死，他们也绝对会很和睦的。但是像练这样碰上了卓一航这样的，不就成就悲剧了嘛。孤僻自傲也绝对是有完美倾向的，像你不相信我这种事情，绝对是世界观级的打击崩溃。因此练也一夜白发，成就魔女。<br />
   信任很重要，解释没用。因为对信任的人，不需要解释，对不信任的人，解释就是掩饰。当然这只是对牛人。这种牛人很极端，付出总是不顾一切的。一旦把你列入信任链，则永久信任。因此这类人设密钥的话，从不设期限，永远有效。而普通人来说，信任是逐步进级的。一开始只设定信任你60%之类，然后通过时间考查，加深信任程度。卓一航就是这类普通人，虽然已定情发誓，但别人一提出质疑，就动摇了。然后通过质问，希望得到解释，通过他内心的信任考查。那么是不是因为这段感情来得太突然，信任链建立没多久的原因呢。也有一点点，但是普通人的信任链是到死也不会满的。因为普通人知道人性其实是不稳定的。这也是对人性把握不住的一种原因。当有一群人对你说与你生活了一辈子的某某竟然干了xx事，你会感到惊愕的，你会质疑，难道她真的干了？你会这样想，是因为你对她的信任链不是百分百的。你对他的性格把握不是百分百的。而重要的是提示了一个真理，不同人的信任是可以叠加的。虽然几个不熟的人，你对他们的信任设定不超过百分之五十。但只要他们众口一词，加起来的话，其实是比你对xx一个人的信任值的。<br />
    然后，不解释的人其实也不喜欢听别人解释。所以卓一航才知道再跑去找她也没用，只有用行动去打动她，跑到山上十年守着一朵花。他们也知道白不白发不是问题，问题是没有台阶化解这个误会。<br />
    正如今天在网上看到的一句话，表白正是索取的开始。是真的很对啊，你表白，只不过期望对方以同样的热情回报。像我爱你不关你的事那种，叫暗恋啊。一旦对对方有所期待，失落即开始。
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/09/27/objective-c%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/">Objective-C学习笔记1</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-27T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2011/09/27/objective-c%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2011/09/27/objective-c%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>內存管理</p>

<p>正如new要和delete配對。<br />
每個alloc/retain 都要對應release或autorelease，如果一個指針的創建沒有見到alloc，而是以其它initwithxxx方法創建的，說明它內建了autorelease，因此不必去管它。</p>

<p>在setter中，copy和retain的區別，retain是保持原對象引用計數加1,屬于指針復制，內容和地址都一樣。copy則是新建了一個對象，然後引用計數加1，傳進來的對象的引用計數不變，屬于內容復制，但注意，是潛拷貝。<br />
assin則只是C語言級別的指針拷貝，并不引起引用計數的變化，用于默認的類型或（函數指針delegate ?)</p>

<p>NSString 用copy, delegate 用assign, 非objc数据类型（int,float)用assign， 其它类型(NSArray,NSDate)用 retain</p>

<p>noatomic 不保証setter/getter的原子操作，在多線程下會出問題，所以多線程裏要用atomic,它相當于加了鎖的，所以不需要多線程的情況下用noatomic,速度會快。</p>

<p>drain和release的區別<br />
drain是在有垃圾回收機制的環境中引發垃圾回收，release則沒有。</p>

<p>synthesize只是用来给property属性同步生成getter/setter的语法关键字</p>

<p>IBOutlet/IBAction 的唯一作用就是告訴Interface<br />
Builder,此實例變量將被連接到bib中的對象。不關編譯器的事,打開IB時，它會在項目頭文件中掃描此關鍵字，然後根據這些變量將代碼連接到nib上。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/09/23/life-is-going-on/">Life Is Going On</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-23T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2011/09/23/life-is-going-on/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2011/09/23/life-is-going-on/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>回来一个多月，偶尔无聊一下，偶尔也发奋一下，但是也太宅了，只出过一次省城。找同学叙下旧，结果两个同学都因故未能见着。呆在家里上网。早上睡到十点多，晚上又折腾到两点才睡。好不逍遥自在。</p>

<p>中秋那晚上，上天台仰望了一下星空。月亮挺大，挺圆。忽然想买个天文望远镜把玩一下。满足一下好奇心，物质心，小清心。月饼还是吃了，现在还留着好几个哩。但大多数月饼已经不是圆的了。</p>

<p>然后又发生了一件坏事，令我们一家人都很伤心。每当这时候，无力感就会侵袭，然后，『幂幂中注定』这个词就会联想起来。也正当我沉浸在这当中之时，另一件事推动了我，提示我生活还是得继续。</p>

<p>那就是工作了。两件事总结起来是『有心栽花花不发，无心插柳柳成荫』。但是花还是得种的，不过随缘吧。工作机会也是机缘之下遇见，然后与对方畅谈了两个小时，爽快合作。然而面临的是一个新的环境，新的内容，新的挑战。心里颇有些兴奋。但因为是创业公司，以后可得忙了啊。
</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/09/22/objective-c%E7%9A%84hello-world/">Objective-C的hello World</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-22T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2011/09/22/objective-c%E7%9A%84hello-world/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2011/09/22/objective-c%E7%9A%84hello-world/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Objective-C 似乎是mac平台上的专用语言，起码在windows/linux下少见用它写的东西。<br />
历史我也不熟，随便扯两句，老乔被赶出苹果后，又组了个公司叫NextStep, 专用Objective-C开发，后来老乔又重回苹果公司，于是买下了NextStep，然后风声水起地做起了mac osx, 再然后有了ipod, iphone,ipad,于是Objective-C也灸手可热了。</p>

<p>mac的机器也忒贵了。还好其实GCC是支持Objective-C的，我们用linux平台来学习一下Objective-C也是可以的。先来个hello world吧，世界通例了。
<pre lang="C">
#import <Foundation/Foundation.h></pre></p>

<p>int main(int argc,char *argv[])<br />
{</p>

<p>	printf(&#8220;hello Objective-C\n&#8221;);<br />
	return 0;<br />
}
保存成hello.m文件。</p>

<p>呃，你是不是想说，坑爹哩，除了第一行，这完全是C嘛。呃，人家有亲戚关系嘛，Objective-C是C的超集。具体来说呢，就是以后再说，现在我只会这么点。好了，来编译吧。<br />
等等，先把gcc的objective-c支持给装上。<br />
在ArchLinux上是这样的
<pre lang="C">sudo pacman -S gnustep-core </pre>
其它发行版各自找相关名字的软件包。<br />
然后编译吧
<pre lang="C">gcc hello.m -lobjc </pre>
好吧，等着一堆错吧
<pre lang="C">
In file included from /usr/include/Foundation/NSClassDescription.h:30:0,
                 from /usr/include/Foundation/Foundation.h:50,
                 from a.m:19:
/usr/include/Foundation/NSException.h:42:2: error: #error The current setting for native-objc-exceptions does not match that of gnustep-base ... please correct this.</pre></p>

<p>求助于万能的google，在一<a href="http://stpetrus27.wordpress.com/2011/06/20/compile-objective-c-programs-on-linux/">韓文博客</a>上找到答案,。<br />
正确的编译命令：
<pre lang="C">  gcc `gnustep-config --objc-flags`  hello.m -o hello -I /usr/include/GNUstep/ -L /usr/lib/GNUstep/ -lgnustep-base </pre>
这个gnustep-config &#8211;objc-flags命令就像当年学gtk+时 pkg-config的命令一般，大家注意那个反斜杠了。其实上面那个源码没用到啥gnustep特别的库，所以直接用gnustep-config &#8211;objc-flags就能搞定了。</p>

<p>回头看看那个#import吧，用来代替#include的东西，据说还有#ifndef的功效。</p>

<p>hello world能运行了，第一步完成。</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/23/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/21/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/03/22/zhou-ji-mo/">周记 &#8211; 万</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/15/zhou-ji-mo/">周记 &#8211; 万</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/08/zhou-ji-ji/">周记 &#8211; 及</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/01/zhou-ji-lai/">周记 &#8211; 赖</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/02/23/zhou-ji-mu/">周记 &#8211; 木</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - lerosua -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'lerosua';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
