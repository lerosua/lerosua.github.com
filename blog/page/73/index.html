
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>阳光烂灿的日子</title>
  <meta name="author" content="lerosua">

  
  <meta name="description" content="咋一看这则新闻，第一印象真的是觉很惨。可怜天下父母心是不错。但回头想想，他们其实不惨啊。
也早有人分析过了。去得了北京的，家里还能算穷的嘛！真正惨的是你见不着的，在乡下砸锅卖铁凑
学费的父母。哪还有钱去北京啊！ 偶发一感！
">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://lerosua.github.io/blog/page/73">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="阳光烂灿的日子" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">阳光烂灿的日子</a></h1>
  
    <h2>--记录所有碎碎念</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:lerosua.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/08/22/no-peer/">睡清华校园的家长不惨。</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-08-22T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2006/08/22/no-peer/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2006/08/22/no-peer/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>咋一看这则新闻，第一印象真的是觉很惨。可怜天下父母心是不错。但回头想想，他们其实不惨啊。<br />
也早有人分析过了。去得了北京的，家里还能算穷的嘛！真正惨的是你见不着的，在乡下砸锅卖铁凑<br />
学费的父母。哪还有钱去北京啊！</p>

<p>偶发一感！</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/08/21/likelyunlikely/">LikelyUnlikely</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-08-21T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2006/08/21/likelyunlikely/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2006/08/21/likelyunlikely/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><font color="#000000">更好的解释请看<a target="_parent" href="http://www.kernelnewbies.org/FAQ/LikelyUnlikely">Kernelnewbies</a></font></p>

<p><font color="#000000" /></p>

<p><font color="#000000"><font color="#000000"><font color="#000000">在内核中常会见到下面这样的代码。
</font></font></font>
<pre /><font color="#000000"><font color="#000000"><font color="#990000">bvl = bvec_alloc(gfp_mask, nr_iovecs, &amp;idx);</font></font></font></p>

<p><font color="#990000">if (unlikely(!bvl)) {</font></p>

<p><font color="#990000">  mempool_free(bio, bio_pool);</font></p>

<p><font color="#990000">  bio = NULL;</font></p>

<p><font color="#990000">  goto out;</font></p>

<p><font color="#990000">}</font></p>

<p><font color="#000000"><font color="#990000"></font></font>
<font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000">
</font></font></font></font></font></p>

<p><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000">
这个likely()和unlikely()其实是宏定义。原始定义在 </font><font color="#000000">include/linux/compiler.h中，如下：</font></font></font></font></font></p>

<p><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000">
</font></font></font></font></font>
<pre /><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#996633">#define likely(x)       __builtin_expect(!!(x), 1)</font></font></font></font></font></font></p>

<p><font color="#996633">#define unlikely(x)     __builtin_expect(!!(x), 0)</font></p>

<p><font color="#000000"></font>
<font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"></font></font></font></font></font></font></font></p>

<p><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000">__builtin_expect是GCC内建的函数。下面引用<a target="_parent" href="http://www.nixsky.com/data/2006/0724/article_348.html">linuxform中的一篇讲GCC扩展文章</a></font></font></font></font></font></font></font></font></font></p>

<p><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000">的一部分(<em>原我找到的也是引用的文章，此处给出链接</em>），里面解释得很清楚。</font></font></font></font></font></font></font></font></font></p>

<p><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000">
</font></font></font></font></font></font></font></font></font>
<pre /><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000">-------------------------------------------------------</font></font></font></font></font></font></font></font></font></p>

<p><font color="#000000"><font color="#cc9933">* __builtin_expect(EXP, C)</font></font></p>

<p><font color="#cc9933" /></p>

<p>内建函数 __builtin_expect 用于为编译器提供分支预测信息，其返回值是整数表达式 EXP
<pre /><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#cc9933">的值，C 的值必须是编译时常数。例如：</font></font></font></font></font></font></font></font></font></p>

<p><font color="#cc9933"><font color="#cc9933">++++ include/linux/compiler.h</font></font></p>

<p><font color="#cc9933">13: #define likely(x)       __builtin_expect((x),1)</font></p>

<p><font color="#cc9933">14: #define unlikely(x)     __builtin_expect((x),0)</font></p>

<p><font color="#cc9933">++++ kernel/sched.c</font></p>

<p><font color="#cc9933">564:         if (unlikely(in_interrupt())) {</font></p>

<p><font color="#cc9933">565:                 printk("Scheduling in interruptn");</font></p>

<p><font color="#cc9933">566:                 BUG();</font></p>

<p><font color="#cc9933">567:         }</font></p>

<p><font color="#cc9933" /></p>

<p>这个内建函数的语义是 EXP 的预期值是 C，编译器可以根据这个信息适当地重排</p>

<p><font color="#cc9933">语句块的顺序，使程序在预期的情况下有更高的执行效率。上面的例子表示处于中</font></p>

<p><font color="#cc9933">断上下文是很少发生的，第 565-566 行的目标码可能会放在较远的位置，以保证</font></p>

<p><font color="#cc9933">经常执行的目标码更紧凑。</font></p>

<p><font color="#000000">-------------------------------------------------------</font>
<font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#cc9933"><font color="#000000">
</font></font></font></font></font></font></font></font></font></font></p>

<p><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#cc9933"><font color="#000000">
<strong>总结，这个宏主要是优化的作用。如果英文好的话可以看文章一开始给出的</strong></font></font></font></font></font></font></font></font></font></font></p>

<p><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#cc9933"><font color="#000000"><strong>在kernelnewbies中的链接，那里有更详细的解说。</strong></font></font></font></font></font></font></font></font></font></font></p>

<p><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#cc9933"><font color="#000000"><strong>
细心的人应该留意到有一点不同，likely()一开始偶给的定义为__builtin_expect(!!(x),1)。</strong></font></font></font></font></font></font></font></font></font></font></p>

<p><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#cc9933"><font color="#000000"><strong>
后来的文章解说中成了__builtin_expect((x),1)。
</strong></font></font></font></font></font></font></font></font></font></font></p>

<p><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#cc9933"><font color="#000000"><strong>
这应该是后来的版本更改所至。就是新近版本的内核已经更改成__builtin_expect(!!(x),1). </strong></font></font></font></font></font></font></font></font></font></font></p>

<p><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#000000"><font color="#cc9933"><font color="#000000"><strong>
加上个“!!”有什么好处哩。我想是因为使代码强壮与兼容的原因。因为不能保证x表达式的结果一定是1或0,有可能是非0数。加了“!!”，结果就一定是在1和0范围内了。</strong></font> </font></font></font></font></font> </font></font></font></font></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/08/17/performancing/">Blog工具-performancing</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-08-17T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2006/08/17/performancing/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2006/08/17/performancing/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>一直以来我都使用<font color="#00cccc"><strong>Blogtk</strong></font>来作为我的博客写作工具。当然它并不是很好用。功能有限。<font color="#ff0000"><a href="http://huangjiahua.livejournal.com/">华华</a></font>曾经推荐一款博客工具logjam给我，这个是针对于livejournal系统的。当然也支持其它的博客系统。但我对于donews没设置成功。看过一下那个软件也再没用了。还是一直用<em>Blogtk</em>。用来写文字还凑合吧。最近贴一些代码的时候就有些愁了。才感到它的功能那么那么有限。<br />
直到今天才发现firefox有一个写博客的扩展 <a href="http://performancing.com/">Performancing</a>。试用了一下，还是所见既所得的哩，还有颜色设置，很方便啊。才发觉有<font color="#3333ff">相逢恨晚</font>的感觉。嗯，还是和<font color="#006600">Blogtk</font>告别吧。另一个感叹：<font color="#ff0000">Firefox</font>真是强大啊~<br />
理所当然地从今日起，偶的博文都将由Performancing产生了！呵呵!<a href="http://www.flickr.com/photo_zoom.gne?id=216842712&amp;size=o">
</a>    <u>下<font color="#cc33cc">面给个图先！</font></u></p>

<p><a title="Photo Sharing" href="http://www.flickr.com/photos/23336057@N00/216842712/"><img width="510" height="329" alt="博客工具performancing" src="http://static.flickr.com/52/216842712_6386dfd60c_o.png" /></a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/08/16/asmlinkage/">什么是asmlinkage</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-08-16T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2006/08/16/asmlinkage/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2006/08/16/asmlinkage/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><font color="#000000">下面首先在<a target="_parent" href="http://kernelnewbies.org/FAQ/asmlinkage">kernelnewibes</a>上的解释。</font>
<pre /><font color="#000000"><strong>What is asmlinkage?</strong>  </font><font color="#993399">The asmlinkage tag is one other thing that we should observe aboutthis simple function. </font><font color="#993399">This is a #define for some gcc magic that tellsthe compiler that the function</font></p>

<p>should not expect to find any of itsarguments in registers (a common optimization),</p>

<p>but only on theCPU's stack. Recall our earlier assertion that system_call consumesits</p>

<p>first argument, the system call number, and allows up to four morearguments that are</p>

<p>passed along to the real system call. system_callachieves this feat simply by leaving its other</p>

<p>arguments (which werepassed to it in registers) on the stack. All system calls are markedwith</p>

<p>the asmlinkage tag, so they all look to the stack for arguments.Of course, in sys_ni_syscall's case,</p>

<p>this doesn't make any difference,because sys_ni_syscall doesn't take any arguments, but it's an</p>

<p>issuefor most other system calls. And, because you'll be seeingasmlinkage in front of many other</p>

<p>functions, I thought you shouldknow what it was about.
<font color="#000000"> </font><font color="#000000">而我在 2.6.8的内核上的include/linux/linkage.h查到它的定义是：</font></p>

<p><font color="#000000"> </font>
<pre /><font color="#990000"> #ifndef asmlinkage</font>
<font color="#990000"> </font><font color="#990000">   </font></p>

<p><font color="#990000"> </font>
<pre /><font color="#990000"> #define asmlinkage CPP_ASMLINKAGE  #endif</font>
<font color="#000000"> </font><font color="#000000">   进一步，CPP_ASMLINKAGE的定义为:</font></p>

<p><font color="#000000"> </font><font color="#000000">   </font></p>

<p><font color="#000000"> </font>
<pre /><font color="#990000"> #ifdef __cplusplus </font>
<font color="#990000"> </font><font color="#990000">   </font></p>

<p><font color="#990000"> </font>
<pre /><font color="#990000">#define CPP_ASMLINKAGE extern "C"</font></p>

<p>#else</p>

<p>#define CPP_ASMLINKAGE</p>

<p>#endif
<font color="#000000"> </font><font color="#000000">    而在include/asm-i386/linkage.h里则有更明确的定义：</font></p>

<p><font color="#000000"> </font><font color="#990000">    #define asmlinkage CPP_ASMLINKAGE __attribute__((regparm(0)))</font></p>

<p><font color="#000000"> </font><font color="#000000">    __attribute__是GCC的C语言扩展语法。regparm(0)表示不从寄存器中传递参数。</font></p>

<p><font color="#000000"> </font><font color="#000000"> 另外,如果是__attribute__((regparm(3)))，那么调用函数的时候参数不是通过栈传递，而是直接放到寄存器里，被调用函数直接从寄存器取参数。</font></p>

<p><font color="#000000"> </font><font color="#000000">此句引自了<a target="_parent" href="http://nearxlz.blogchina.com/4959914.html">海中一浪的博客文章</a> </font></p>

<p><font color="#000000"><strong>asmlinkage确保它定义的函数从栈中读取参数而不是在寄存器中。</strong></font></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/08/15/__init__exit/">啥是__init __exit宏</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-08-15T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2006/08/15/__init__exit/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2006/08/15/__init__exit/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>(学习内核笔记由此开始)</p>

<p>更详细内容请<a target="_parent" href="http://www.kernelnewbies.org/FAQ/InitExitMacros">kernelnewibes</a>
原始定义在include/linux/init.h
<pre>#define __init          __attribute__ ((__section__ (".init.text")))</pre>
<pre>#define __initdata      __attribute__ ((__section__ (".init.data")))</pre></p>

<p>#define __exitdata      __attribute__ ((__section__(&#8220;.exit.data&#8221;)))</p>

<p>#define __exit_call     __attribute_used__ __attribute__ ((__section__ (&#8220;.exitcall.exit&#8221;)))</p>

<p>#ifdef MODULE</p>

<p>#define __exit          __attribute__ ((__section__(&#8220;.exit.text&#8221;)))</p>

<p>#else</p>

<p>#define __exit          __attribute_used__ __attribute__ ((__section__(&#8220;.exit.text&#8221;)))</p>

<p>#endif
__init和__exit标记函数，__initdata和__exitdata标记数据。</p>

<p>此宏定义可知标记后的函数与数据其实是放到了特定的（代码或数据）段中。</p>

<p>标记为初始化的函数表明公在初始化期间使用。<br />
在模块装载之后，模块装载就</p>

<p>会将初始化函数扔掉。这样可以将该函数占用的内存释放出来。</p>

<p>__exit修饰词标记函数只在模块卸载时使用。如果模块被直接编进内核</p>

<p>或内核不允许卸载模块。被此标记的函数将被简单地丢弃。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/08/12/pay/">第一次工资</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-08-12T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2006/08/12/pay/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2006/08/12/pay/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>终于发工资了。对于这一工资，高中时期就已经承诺了去处了。</p>

<p>记得那时总和某某人说，发了第一次工资就请你吃大餐。发了第一次工资就买什么什么东西给你。发了第一次工资就给妈妈爸爸买啥买啥的。而今真的发第一次工资了。那些好朋友却没有能聚在一起了。这第一次工资也没能实现它当年的承诺。用来交房租，水电费。还有还之前的欠款，以及这个月的生活费。第一次工资已经所剩无几了。生活逼迫得我们有时都喘不过气来。</p>

<p>一会回家，把第一次工资的三分之一给家里，爸妈，儿子终于赚钱了。</p>

<p>这第一次工资还交了个人所得税。TMD还成了纳税人了。偶觉得起征点应该是三千。三年再修定一次,调高不高低。因为太多的钱给虫子吃掉了。国家应该开源节流，不乱花纳税人的钱，这样国库就不会空虚了啊。我记得好像某个人大委员曾经说把个人所得税调得太高会剥夺公民纳税的权利。我当时听了这句话我就在想这个哪个狗娘养说的话，根本就不是人话。如果偶有了杀人的冲动，第一个就把这个人拿来练靶子。</p>

<p>既然偶现在也是纳税人了，那偶也有权说两句了吧，国内某些官员是狗娘养的。如果有人听了觉得这太愤青，不要紧。偶可以改口啊！偶改为：国内某些官员不是狗娘养的。这样总行了吧！</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/08/10/girl/">看图不说话</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-08-10T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2006/08/10/girl/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2006/08/10/girl/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a title="Photo Sharing" href="http://www.flickr.com/photos/23336057@N00/211800472/"><img width="1155" height="697" alt="让女孩开心的方法" src="http://static.flickr.com/59/211800472_9b4103f3e4_o.jpg" /></a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/08/09/do-not-smoke/">不抽烟</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-08-09T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2006/08/09/do-not-smoke/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2006/08/09/do-not-smoke/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>已经是第三位同事给偶递烟了。偶说：不抽。</p>

<p>偶是反对吸烟的，并且也不喜欢别人在偶面前吸烟。</p>

<p>对于这件事，偶认为是浪费金钱并且浪费生命的事情。</p>

<p>另一件事就是喝酒。这个事件就几乎无法避免了。不过我还是尽量避免。对于这件事偶的态度是：喝酒从来只能增强人的性欲，降低人的性能力。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/08/06/find-commandpiture/">Find命令总结（图）</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-08-06T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2006/08/06/find-commandpiture/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2006/08/06/find-commandpiture/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>用Freemind做的图。直观，有例子。当时做得很认真的说。贴出来，有时用的时候老忘记，这回有的查了。也许有空可以完善一下。不过现在的选项也够用吧！ 好像图像到flickr就变小了，小到看不清字了！晕！  <a title="Photo Sharing" href="http://www.flickr.com/photos/23336057@N00/207691497/"><img width="512" height="189" alt="[fwd] find命令小结 " src="http://static.flickr.com/78/207691497_bd89e8cadb_b.jpg" /></a></p>

<p>那下面就贴成html吧。</p>

<p><!-- ^ Position is not set to relative / absolute here because of Mozilla --></p>

<p>find命令用法
<ul>
	<li>-name 按文件名查找
<ul>
	<li>基本用法： find ~/ -name *.txt
<ul>
	<li>查找家目录中文件后缀为txt的文件</li>
</ul>
</li>
</ul>
</li>
	<li>-prune 忽略某个目录
<ul>
	<li>find ~/  -path &#8220;~/download&#8221; -prune -o -name &#8220;*.txt&#8221;作用如上，但忽略查找家目录下的download目录</li>
	<li>-depth 使用此选项则 -prune 无效：此选项为进入子目录搜索</li>
	<li>-mount 不进入其它文件系统</li>
</ul>
</li>
	<li>-perm 按文件权限查找
<ul>
	<li>find ~/ -perm 644 查找家目录下权限为644的文件</li>
	<li>1 可执行 x</li>
	<li>2 可写 w</li>
	<li>4 可读</li>
</ul>
</li>
	<li>-mtime 按文件时间查找
<ul>
	<li>find ~/ -mtime -5 查找更改时间在5天以内的文件</li>
	<li>find ~/ -mtime +5 查找更改时间在5天以前的文件</li>
	<li>-newer 查找某个文件的新或旧
<ul>
	<li>find ~/ -newer test.txt 查找比test.txt新的文件</li>
	<li>find ~/ ! -newer test.txt 查找比test.txt旧的文件</li>
	<li>find ~/ -newer test.txt ! -newer test2.txt 查找比test.txt新而比test2.txt旧的文件</li>
	<li>技巧：查找2个小时以来修改过的文件:新建一个两小之前的文件,touch -t 01262130 test.txt ,然后用它来比较</li>
</ul>
</li>
</ul>
</li>
	<li>-user 按文件用户查找
<ul>
	<li>find ~/ -user leros 查找家目录下属于leros的文件</li>
	<li>find ~/ -nouser 查找家目录下无属主文件</li>
</ul>
</li>
	<li>-group 按文件所属的组来查找
<ul>
	<li>find ~/ -group leros 查找家目录下组为leros的文件</li>
	<li>find ~/ -nogroup 查找家目录下无组文件</li>
</ul>
</li>
	<li>-size 按文件长度查找
<ul>
	<li>find ~/ -size +1000000c 查找家目录下大于1M的文件，c表示字节</li>
	<li>find ~/ -size -1000000c 查找家目录下小于1M的文件</li>
	<li>find ~/ -size 100c 查找家目录下刚好为100字节的文件</li>
	<li>find ~/ -size +10 查找家目录下大小超过10块的文件，一块等于512字节</li>
	<li>find ~/ -size 0 查找家目录下的空文件</li>
</ul>
</li>
	<li>-type 按文件类型查找
<ul>
	<li>f 普通文件</li>
	<li>l 链接文件</li>
	<li>d 目录文件</li>
	<li>c 字符设备文件</li>
	<li>b 块设备文件</li>
	<li>p 管道文件</li>
</ul>
</li>
	<li>-exec 执行命令
<ul>
	<li>find / -name &#8220;*.tmp&#8221; -exec ls -l {} \;查找系统中后缀为tmp的文件并打印出来</li>
</ul>
</li>
	<li>-ok 选项是-exec的安全模式</li>
	<li>-xargs
<ul>
	<li>find / -type l |xargs file 此命令查找系统中的链接文件并把结果传给file命令找</li>
</ul>
</li>
</ul></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/08/04/man-of-seaside/">海边的陌生人</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-08-04T00:00:00+08:00" pubdate data-updated="true"></time>
        
           | <a href="/blog/2006/08/04/man-of-seaside/#disqus_thread"
             data-disqus-identifier="http://lerosua.github.io/blog/2006/08/04/man-of-seaside/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>偶在2002年11月19日做的一个梦。很有小说原型的味道。信不信由你！~</p>

<p>我决定要穿过国家自然公园。去到尽头的地方看海。期间有一个女孩要求和我同行。于是我们趁参观公园的时候逃进了公园深处。开始在公园内东躲西藏。奇怪的是那个女子也却一天天变小。最后竟然变成了一个婴儿。我在逃跑的时候还打伤了一个前来捕捉我的警员。最后我一个人穿过了公园。终于来到悬崖边，看见了广阔的天空与大海。深呼了一下海风，听着海的声音。这个时候直升飞机载着大量的警员追捕而到。我微笑着跳下悬崖，跌入大海内。</p>

<p>朦胧中醒来，发觉是一场梦。伸伸懒腰觉得很舒服。突然间却发现自己是躺在医院里。小陈坐在我身边，看见外面好像有个警员来巡视我。我问小陈。小陈就对我说一直以来发生的事情。我才发现刚才那并不是梦。我不免心惊胆跳。小陈说我抱了一个婴儿在公园里四处逃窜，途中还打伤了一个救护人员。后来警察捉住了我。我已经晕迷了三天。前后算起来共有七天我神志不清。我开始担心我是否要坐牢。小陈突然哭了起来。我手足无措直到再次被警察拉去问话。</p>

<p>心跳得越来越快的时候，我又起来了，原来刚才的才真正是一场梦。</p>

<p>现在我是不是在另一场梦中呢？</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/74/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/72/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/08/28/zhou-ji-gu/">周记 &#8211; 谷</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/21/zhou-ji-kong/">周记 &#8211; 空</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/14/zhou-ji-zheng/">周记 &#8211; 正</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/07/zhou-bao-biao/">周报 &#8211; 表</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/07/31/zhou-ji-duan/">周记 &#8211; 端</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - lerosua -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'lerosua';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
