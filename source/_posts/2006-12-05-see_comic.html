---
layout: post
title: 漫画更新检查脚本
categories:
- Linux Note
tags: []
published: true
comments: true
---
<p><img src="http://static.flickr.com/89/254165322_600db60959_o.png" />不知道各位有没有看连载漫画的。（如果你还有认为漫画只是小孩子看这种观念 ，请迅速离开，<br />
偶无语）。偶就在看《火影忍者》。《Hunter X Hunter》我更喜欢，可惜作者太拖稿了。</p>

<p>当然今天不是讨论这个漫画怎样。这种连载漫画基本上一星期出一集。然后由国内的字幕<br />
组汉化翻译，再发到各在线漫画网站上。一般星期六或者星期天就可以看。不过每次星期六都上<br />
网站上检查一下有没有更新。这个动作其实是很费时和没有意义的。现在我也不上网站去看邮箱，<br />
都是有邮件自动通知的。于是想到写个脚本检查一下漫画有没有更新更好。
<pre>
</pre><font color="#ff6600">#!/bin/sh</font></p>

<p>FOO=/tmp/foo.txt<br />
FILE=/tmp/foo2.txt<br />
w3m -T -dump http://manhua.fzdm.com/index.html &gt; $FOO ;</p>

<p>iconv -f cp936 -t utf8 $FOO -o $FILE &gt; /dev/null 2 &gt; &amp;1;<br />
grep  "火影"  $FILE |sed -e "1d" &gt;  $FOO</p>

<p>cat $FOO</p>

<p>rm -f $FOO $FILE

实质上是用w3m把在线漫画首页下载回来转换成文本文件，再转码（此在线漫画网页使用国标，<br />
而我系统用的是utf8），再查找关键字。最后把关键字部分打印出来。结果如下：
<font color="#993399">
* 火影忍者333话11-30<br />
* 火影忍者332话11-24<br />
* 火影忍者331话11-18<br />
* 火影忍者330话</font></p>

<p>这样就知道火影有没有更新啦。执行一个脚本总比打开浏览器输入网址下载页面用眼睛查<br />
打关键字更新快多了吧。如果有更新就再上去看。节省一点点时间也是好的。</p>

<p>这个脚本做的很简单。当然还可以做的更好一些。如只显示最新一期的更新，如有更新则<br />
自动下载等等。但我这里重要的是想表达创造是从一点一滴做起的。有想法就去做，尽管<br />
在别人看来好像有些弱智，但对于自己始终是进步。</p>

<p>这个脚本纯属娱乐。(注意脚本运行环境为Linux)</p>
